{"version":3,"sources":["webpack:///webpack/bootstrap 06055703473623c7a8a0","webpack:///./src/node/NodeAbstract.ts","webpack:///./src/node/NodeBegin.ts","webpack:///./src/node/NodeTask.ts","webpack:///./src/node/NodeAudit.ts","webpack:///./src/node/NodeSign.ts","webpack:///./src/node/NodeCond.ts","webpack:///./src/node/NodeSubFlow.ts","webpack:///./src/node/NodeParallel.ts","webpack:///./src/node/NodeMerge.ts","webpack:///./src/node/NodeEnd.ts","webpack:///./src/node/NodeLn.ts","webpack:///./src/node/NodeLnPoly.ts","webpack:///./src/util.ts","webpack:///./src/WorkerEditor.ts","webpack:///./src/helper.ts","webpack:///./node_modules/process/browser.js","webpack:///./version.ts","webpack:///./src/ToolBar.ts","webpack:///./src/NodeQue.ts"],"names":[],"mappings":"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zD,CAAC;IACM,WAAS,GAAhB,cAAmB,CAAC;IACb,YAAU,GAAjB,cAAoB,CAAC;IACd,UAAQ,GAAf,cAAkB,CAAC;IACnB;;OAEG;IACI,UAAQ,GAAf;QACI,aAAa,IAAI,CAAC;QAClB,OAAO,aAAa;IACxB,CAAC;IACD;;;;;OAKG;IACI,KAAG,GAAV,UAAW,KAAa,EAAE,GAAQ,EAAE,KAAW;QAC3C,IAAG,CAAC,cAAc,CAAC,KAAK,CAAC,EAAC;YACtB,cAAc,CAAC,KAAK,CAAC,GAAG,EAAE;SAC7B;QACD,IAAI,EAAE,GAAG,cAAc,CAAC,KAAK,CAAC;QAC9B,IAAG,WAAW,IAAI,OAAO,GAAG,EAAC;YACzB,OAAO,EAAE;SACZ;QACD,IAAG,WAAW,IAAI,OAAO,KAAK,EAAC;YAC3B,OAAO,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI;SACzB;QACD,EAAE,CAAC,GAAG,CAAC,GAAG,KAAK;IACnB,CAAC;IACL,QAAC;AAAD,CAAC;AAED,yDAAe,CAAC;;;;;;;;AC9EhB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"./build/WorkerEditor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 06055703473623c7a8a0","import { Util } from \"../util\";\r\n\r\n/**\r\n * 2018年3月26日 星期一\r\n * 抽象节点\r\n */\r\n///<reference path=\"../../index.d.ts\"/>\r\n///<reference path=\"../types/raphael.ts\"/>\r\n/**\r\n * @export\r\n * @abstract\r\n * @class NodeAbstract\r\n */\r\nexport default abstract class NodeAbstract{\r\n    fromLine: NodeAbstract[]    // 起点连线\r\n    toLine: NodeAbstract[]      // 终点连线\r\n    NodeType: string            // 节点类型\r\n    opt: rSu.NodeOpt            // 节点选项\r\n    label?: RaphaelElement      // 标签元素\r\n    c?: RaphaelElement          // 容器元素\r\n    paper: RaphaelPaper         // Raphael 绘制对象器\r\n\r\n    // 审核、合并\r\n    xRate?: number           // 移除边框百分比\r\n    inlinesEle?: RaphaelElement[]    // 合并\r\n    inlineEle?: RaphaelElement // 并行\r\n\r\n    constructor(paper: RaphaelPaper, opt?: rSu.NodeOpt){\r\n        this.paper = paper\r\n        // 连接线起点获取终点\r\n        this.fromLine = []\r\n        this.toLine = []\r\n        this.NodeType = null            // 节点类型\r\n        // 传入属性时，设置目前的对象\r\n        if(opt){\r\n            this.opt = opt\r\n        }\r\n        this._onInit()\r\n    }\r\n    /**\r\n     * 节点生成器，外部可访问接口\r\n     * @param opt \r\n     */\r\n    creator(opt?: rSu.NodeOpt){\r\n        this._whenCreatorEvt()\r\n        return this\r\n    }\r\n    /**\r\n     * 点连线装换为path字符串\r\n     * @param {array} pQue \r\n     * @param {bool} isClose \r\n     * @returns {string}\r\n     */\r\n    protected _ps2Path(pQue: rSu.P[], isClose?: boolean): string{\r\n        var path = ''\r\n        for(var i=0; i<pQue.length; i++){\r\n            path += (path? 'L': 'M') + pQue[i].x + ',' + pQue[i].y\r\n        }\r\n        if(isClose){\r\n            path += 'Z'\r\n        }        \r\n        return path\r\n    }\r\n    /**\r\n     * 点连线转换为字符串数组\r\n     * @param {array} pQue \r\n     * @param {bool} isClose \r\n     * @returns {string}\r\n     */\r\n    protected _ps2PathAttr(pQue: rSu.P[], isClose?: boolean){\r\n        var pArr: any[] = []\r\n        for(var i=0; i<pQue.length; i++){\r\n            var cPArr: any[] = ['L']\r\n            if(pArr.length == 0){\r\n                cPArr[0] = 'M'\r\n            }\r\n            cPArr.push(pQue[i].x, pQue[i].y)\r\n            pArr.push(cPArr)\r\n        }\r\n        if(isClose){\r\n            pArr.push(['Z'])\r\n        }        \r\n        return pArr\r\n    }\r\n    /**\r\n     * 创建事件时，处理事件\r\n     */\r\n    protected _whenCreatorEvt(){}\r\n    /**\r\n     * 节点初始化 [接口]\r\n     */\r\n    protected _onInit(){}\r\n    /**\r\n     * 节点拖动以后处理，调用拖动以后 [接口]\r\n     */\r\n    onDrag(){}\r\n    /**\r\n     * 记录连接线\r\n     * @param {stirng} type 连接线类型\r\n     * @param {this}  $node 节点实例\r\n     */\r\n    recordLine(type: string, $node: any){\r\n        if('from' == type){\r\n            this.fromLine.push($node)\r\n        }\r\n        else if('to' == type){\r\n            this.toLine.push($node)\r\n        }\r\n    }\r\n    /**\r\n     * 同步处理连线\r\n     * @param {function} callback \r\n     */\r\n    syncLineMove(callback: any){\r\n        if('function' !== typeof callback){\r\n            callback = (instance: any, type: any) => {}\r\n        }\r\n        // 直线同步移动\r\n        var fLines = this.fromLine        \r\n        var tLines = this.toLine\r\n        // 起点列表处理\r\n        for(var i=0; i<fLines.length; i++){\r\n            var $fC = fLines[i].c\r\n            var $fPath = $fC.attr('path')\r\n            callback($fC, 'from', fLines[i])\r\n        }\r\n        // 终点列表处理\r\n        for(var j=0; j<tLines.length; j++){\r\n            var $tC = tLines[j].c\r\n            callback($tC, 'to', tLines[j])\r\n        }\r\n    }\r\n    /**\r\n     * 公共接口化\r\n     * NodeBase struct to json 对象， 用于生产节点中 “struct” 的数据结构\r\n     * @returns {object}\r\n     */\r\n    toJson(){\r\n        var _struct: Flower.StepStru = {\r\n            NodeType: this.NodeType,            // 节点类型\r\n            opt: this.opt,                      // 数据属性\r\n            c: {\r\n                attr: this.c.attr()              // 容器属性值\r\n            }            \r\n        }\r\n        if(this.label){                         // 节点标签\r\n            _struct.label = {\r\n                attr: this.label.attr()\r\n            }\r\n        }\r\n        return _struct\r\n    }\r\n    /**\r\n     * 获取两点间的距离\r\n     */\r\n    getPLen(P1: rSu.P, P2: rSu.P): number{\r\n        return Math.pow(\r\n            (Math.pow((P1.x - P2.x), 2) + Math.pow((P1.y - P2.y), 2)),\r\n            1/2\r\n        )\r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    protected _updAttr(nOpt: rSu.NodeOpt){\r\n        for(var key in nOpt){\r\n            if('undefined' != typeof this.opt[key]){\r\n                this.opt[key] = nOpt[key]\r\n            }\r\n        }\r\n        return this\r\n    }\r\n    /**\r\n     * 节点删除\r\n     * @returns {boolean}\r\n     */\r\n    delete(): boolean{\r\n        return false\r\n    }\r\n    /**\r\n     * 隐藏\r\n     */\r\n    hide(): rSu.Node{\r\n        if(this.c){\r\n            this.c.hide()\r\n        }\r\n        if(this.label){\r\n            this.label.hide()\r\n        }\r\n        // 内部元素\r\n        if(this.inlinesEle){\r\n            this.inlinesEle.forEach((nd) => {\r\n                nd.hide()\r\n            })\r\n        }\r\n        if(this.inlineEle){\r\n            this.inlineEle.hide()\r\n        }\r\n        return this\r\n    }\r\n    /**\r\n     * 显示\r\n     */\r\n    show(): rSu.Node{\r\n        if(this.c){\r\n            this.c.show()\r\n        }\r\n        if(this.label){\r\n            this.label.show()\r\n        }\r\n        // 内部元素\r\n        if(this.inlinesEle){\r\n            this.inlinesEle.forEach((nd) => {\r\n                nd.show()\r\n            })\r\n        }\r\n        if(this.inlineEle){\r\n            this.inlineEle.show()\r\n        }\r\n        return this\r\n    }\r\n    /**\r\n     * 节点可移动处理\r\n     * @returns \r\n     * @memberof NodeAbstract\r\n     */\r\n    moveable(){\r\n        return this\r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt): any{\r\n        return this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeAbstract.ts","\r\n\r\n/**\r\n * 2018年3月26日 星期一\r\n * 开始\r\n */\r\n///<reference path=\"../../index.d.ts\"/>\r\n\r\nimport NodeAbstract from \"./NodeAbstract\"\r\nexport default class NodeBegin extends NodeAbstract{\r\n    protected _onInit(){\r\n        this.NodeType = 'begin'\r\n    }\r\n    /**\r\n     * 生成器处理事件\r\n     */\r\n    protected _whenCreatorEvt(){\r\n        var opt = this.opt,\r\n            bkg = opt.bkg || '#851E07'\r\n        this.c = this.paper.ellipse(opt.cx, opt.cy, opt.w/2, opt.h/2)\r\n        this.c.attr('fill', bkg)\r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt){\r\n        var opt = this._updAttr(nOpt)\r\n            .opt\r\n        this.c.attr({\r\n            cx: opt.cx,\r\n            cy: opt.cy,\r\n            rx: opt.w/2,\r\n            ry: opt.h/2\r\n        })\r\n        return this\r\n    }\r\n    /**\r\n     * 节点可移动\r\n     * @returns \r\n     * @memberof NodeAudit\r\n     */\r\n    moveable(){\r\n        var $this = this;\r\n        this.c.undrag()\r\n        this.c.drag(\r\n            function(dx: number, dy: number, x: number, y: number){\r\n                $this.updAttr({cx: x, cy: y})\r\n                return {}\r\n            }\r\n        )\r\n        return $this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeBegin.ts","/**\r\n * 2018年3月26日 星期一\r\n * 任务节点\r\n */\r\n\r\nimport NodeAbstract from \"./NodeAbstract\"\r\n\r\nexport default class NodeTask extends NodeAbstract{\r\n    protected _onInit(){\r\n        this.NodeType = 'task'\r\n    }\r\n    /**\r\n     * 生成器处理事件\r\n     */\r\n    protected _whenCreatorEvt(){\r\n        var attr = this.opt2Attr(),\r\n            opt = this.opt,\r\n            bkg = opt.bkg || '#88EEEA'\r\n        this.c = this.paper.rect(attr.x, attr.y, attr.w, attr.h)\r\n        this.c.attr('fill', bkg)\r\n    }\r\n    /**\r\n     * 通过选项映射到节点属性\r\n     */\r\n    opt2Attr(nOpt?: rSu.NodeOpt){\r\n        var opt = nOpt? nOpt : this.opt,\r\n            x = opt.cx - opt.w/2,\r\n            y = opt.cy - opt.h/2,\r\n            w = opt.w,\r\n            h = opt.h\r\n        return {\r\n            x, y, w, h\r\n        }\r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt){\r\n        this._updAttr(nOpt)\r\n        var opt = this.opt2Attr()\r\n        var cAttr: rSu.bsMap = {\r\n            x: opt.x,\r\n            y: opt.y,\r\n            width: opt.w,\r\n            height: opt.h\r\n        }\r\n        this.c.attr(cAttr)\r\n    }\r\n    /**\r\n     * 拖动处理事件，移动\r\n     */\r\n    moveable(){\r\n        var $this = this;\r\n        this.c.undrag()\r\n        this.c.drag(\r\n            function(dx: number, dy: number, x: number, y: number){\r\n                $this.updAttr({cx: x, cy: y})\r\n                return {}\r\n            },\r\n            function(x ,y){\r\n                return {x, y}\r\n            },\r\n            function(){\r\n                return {}\r\n            }\r\n        )\r\n        return this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeTask.ts","/**\r\n * 2018年3月26日 星期一\r\n * 审核节点\r\n */\r\n\r\nimport NodeAbstract from \"./NodeAbstract\";\r\nexport default class NodeAudit extends NodeAbstract{\r\n    xRate: number           // 移除边框百分比\r\n    protected _onInit(){\r\n        this.NodeType = 'audit'\r\n        this.xRate = 0.20\r\n    }\r\n    protected _whenCreatorEvt(){\r\n        var pQue = this.opt2Attr(),\r\n            nOpt = this.opt,\r\n            bkg = nOpt.bkg || '#88EEEA'\r\n\r\n        this.c = this.paper.path(this._ps2Path(pQue, true))\r\n        this.c.attr('fill', bkg)\r\n    }\r\n    /**\r\n     * 选项与节点属性的映射\r\n     * @param {obejct|null} opt  选项属性\r\n     * @returns {array} 选项表\r\n     */\r\n    opt2Attr(opt?: rSu.NodeOpt): rSu.P[]{\r\n        var nopt = opt? opt: this.opt,\r\n            cx = nopt.cx,\r\n            cy = nopt.cy,\r\n            w = nopt.w,\r\n            h = nopt.h,\r\n            xRate = this.xRate\r\n\r\n        return [\r\n            {   // A\r\n                x: cx - w/2,\r\n                y: cy - h/2\r\n            },\r\n            {   // B\r\n                x: (cx + w/2) + (w * xRate),\r\n                y: cy - h/2\r\n            },\r\n            {   // C\r\n                x: cx + w/2,\r\n                y: cy + h/2\r\n            },\r\n            {   // D\r\n                x: (cx - w/2) - (w * xRate),\r\n                y: cy + h/2\r\n            }\r\n        ]\r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt){\r\n        this._updAttr(nOpt)\r\n        var opt = this.opt2Attr()\r\n        this.c.attr('path', this._ps2PathAttr(opt, true))\r\n    }\r\n    /**\r\n     * 节点可移动\r\n     * @returns \r\n     * @memberof NodeAudit\r\n     */\r\n    moveable(){\r\n        var $this = this;\r\n        this.c.undrag()\r\n        this.c.drag(\r\n            function(dx: number, dy: number, x: number, y: number){\r\n                $this.updAttr({cx: x, cy: y})\r\n                return {}\r\n            }\r\n        )\r\n        return $this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeAudit.ts","/**\r\n * 2018年3月26日 星期一\r\n * 会签\r\n */\r\n\r\nimport NodeAbstract from \"./NodeAbstract\";\r\nexport default class NodeSign extends NodeAbstract{\r\n    xRate: number           // 移除边框百分比\r\n    protected _onInit(){\r\n        this.NodeType = 'sign'\r\n        this.xRate = 0.20\r\n    }\r\n    protected _whenCreatorEvt(){\r\n        var pQue = this.opt2Attr(),\r\n            opt = this.opt,\r\n            bkg = opt.bkg || '#88EEEA'   \r\n        this.c = this.paper.path(this._ps2Path(pQue, true))\r\n        this.c.attr('fill', bkg)\r\n    }\r\n    /**\r\n     * 选项与节点属性的映射\r\n     * @param {obejct|null} opt  选项属性\r\n     * @returns {array} 选项表\r\n     */\r\n    opt2Attr(opt?: rSu.NodeOpt): rSu.P[]{\r\n        var nopt = opt? opt: this.opt,\r\n            cx = nopt.cx,\r\n            cy = nopt.cy,\r\n            w = nopt.w,\r\n            h = nopt.h,\r\n            xRate = this.xRate\r\n        return [\r\n            {   // A\r\n                x: cx - w/2 - w * xRate,\r\n                y: cy - h/2\r\n            },\r\n            {   // B\r\n                x: (cx + w/2) + (w * xRate),\r\n                y: cy - h/2\r\n            },\r\n            {   // C\r\n                x: cx + w/2,\r\n                y: cy + h/2\r\n            },\r\n            {   // D\r\n                x: cx - w/2,\r\n                y: cy + h/2\r\n            }\r\n        ]\r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt){\r\n        this._updAttr(nOpt)\r\n        var opt = this.opt2Attr()\r\n        this.c.attr('path', this._ps2PathAttr(opt, true))\r\n    }\r\n    /**\r\n     * 节点可移动\r\n     * @returns \r\n     * @memberof NodeAudit\r\n     */\r\n    moveable(){\r\n        var $this = this;\r\n        this.c.undrag()\r\n        this.c.drag(\r\n            function(dx: number, dy: number, x: number, y: number){\r\n                $this.updAttr({cx: x, cy: y})\r\n                return {}\r\n            }\r\n        )\r\n        return $this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeSign.ts","/**\r\n * 2018年3月26日 星期一\r\n * 条件判断节点\r\n */\r\n\r\nimport NodeAbstract from \"./NodeAbstract\";\r\nexport default class NodeCond extends NodeAbstract{\r\n    protected _onInit(){\r\n        this.NodeType = 'cond'\r\n    }\r\n    protected _whenCreatorEvt(){\r\n        var pQue = this.opt2Attr(),\r\n            opt = this.opt,\r\n            bkg = opt.bkg || '#88EEEA'   \r\n        this.c = this.paper.path(this._ps2Path(pQue, true))\r\n        this.c.attr('fill', bkg)\r\n    }\r\n\r\n    /**\r\n     * 选项与节点属性的映射\r\n     * @param {obejct|null} opt  选项属性\r\n     * @returns {array} 选项表\r\n     */\r\n    opt2Attr(opt?: rSu.NodeOpt): rSu.P[]{\r\n        var nOpt = opt? opt : this.opt,\r\n            cx = nOpt.cx,\r\n            cy = nOpt.cy,\r\n            w = nOpt.w,\r\n            h = nOpt.h\r\n\r\n        return [\r\n            {   // A\r\n                x: cx,\r\n                y: cy - h/2\r\n            },\r\n            {   // B\r\n                x: cx + w/2,\r\n                y: cy\r\n            },\r\n            {   // C\r\n                x: cx,\r\n                y: cy + h/2\r\n            },\r\n            {   // D\r\n                x: cx - w/2,\r\n                y: cy\r\n            }\r\n        ]\r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt){\r\n        this._updAttr(nOpt)\r\n        var opt = this.opt2Attr()\r\n        this.c.attr('path', this._ps2PathAttr(opt, true))\r\n    }\r\n    /**\r\n     * 节点可移动\r\n     * @returns \r\n     * @memberof NodeAudit\r\n     */\r\n    moveable(){\r\n        var $this = this;\r\n        this.c.undrag()\r\n        this.c.drag(\r\n            function(dx: number, dy: number, x: number, y: number){\r\n                $this.updAttr({cx: x, cy: y})\r\n                return {}\r\n            }\r\n        )\r\n        return $this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeCond.ts","/**\r\n * 2018年3月26日 星期一\r\n * 子流程\r\n */\r\n\r\nimport NodeAbstract from \"./NodeAbstract\"\r\nexport default class NodeSubFlow extends NodeAbstract{\r\n    xRate: number                   // x 主偏移量\r\n    inlinesEle: RaphaelElement[]   // 内部连线线段元素\r\n    protected _onInit(){\r\n        this.NodeType = 'sub_flow'\r\n        this.xRate = 0.15\r\n    }\r\n    /**\r\n     * 生成器处理事件\r\n     */\r\n    protected _whenCreatorEvt(){\r\n        var {cAttr, lLine, rLine} = this.opt2Attr(),\r\n            opt = this.opt,\r\n            bkg = opt.bkg || '#88EEEA'\r\n\r\n        this.c = this.paper.rect(cAttr.x, cAttr.y, cAttr.w, cAttr.h)\r\n        this.c.attr('fill', bkg)\r\n        this.inlinesEle = [\r\n            this.paper.path(this._ps2Path(lLine)),\r\n            this.paper.path(this._ps2Path(rLine))\r\n        ]\r\n    }\r\n    /**\r\n     * 通过选项映射到节点属性\r\n     */\r\n    opt2Attr(nOpt?: rSu.NodeOpt){\r\n        var opt = nOpt? nOpt : this.opt,\r\n            x = opt.cx - opt.w/2,\r\n            y = opt.cy - opt.h/2,\r\n            w = opt.w,\r\n            h = opt.h,\r\n            xRate = this.xRate\r\n\r\n        return {\r\n            cAttr: {\r\n                x, y, w, h\r\n            },\r\n            lLine:[\r\n                {x: x + w*xRate, y: y},\r\n                {x: x + w*xRate, y: y + h}\r\n            ],\r\n            rLine:[\r\n                {x: x + w - w*xRate, y: y},\r\n                {x: x + w - w*xRate, y: y + h}\r\n            ]\r\n        }\r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt){\r\n        this._updAttr(nOpt)\r\n        var {cAttr, lLine, rLine} = this.opt2Attr()\r\n        this.c.attr({\r\n            x: cAttr.x, y: cAttr.y, width: cAttr.w, height: cAttr.h\r\n        })\r\n        this.inlinesEle[0].attr('path', this._ps2PathAttr(lLine))\r\n        this.inlinesEle[1].attr('path', this._ps2PathAttr(rLine))\r\n    }\r\n    /**\r\n     * 节点可移动\r\n     * @returns \r\n     * @memberof NodeAudit\r\n     */\r\n    moveable(){\r\n        var $this = this;\r\n        this.c.undrag()\r\n        this.c.drag(\r\n            function(dx: number, dy: number, x: number, y: number){\r\n                $this.updAttr({cx: x, cy: y})\r\n                return {}\r\n            }\r\n        )\r\n        return $this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeSubFlow.ts","/**\r\n * 2018年3月26日 星期一\r\n * 并行\r\n */\r\nimport NodeAbstract from \"./NodeAbstract\"\r\nexport default class NodeParallel extends NodeAbstract{\r\n    xRate: number   // 偏移量\r\n    inlineEle: RaphaelElement\r\n    protected _onInit(){\r\n        this.NodeType = 'parallel'\r\n        this.xRate = 0.20\r\n    }\r\n    protected _whenCreatorEvt(){\r\n        var attrs = this.opt2Attr(),\r\n            opt = this.opt,\r\n            bkg = opt.bkg || '#88EEEA'\r\n\r\n        this.c = this.paper.path(this._ps2Path(attrs.cAttr, true))\r\n        this.c.attr('fill', bkg)\r\n        this.inlineEle = this.paper.path(this._ps2Path(attrs.inLine))\r\n    }\r\n    /**\r\n     * 通过选项映射到节点属性\r\n     */\r\n    opt2Attr(nOpt?: rSu.NodeOpt){\r\n        var opt = nOpt? nOpt : this.opt,\r\n            x = opt.cx - opt.w/2,\r\n            y = opt.cy - opt.h/2,\r\n            w = opt.w,\r\n            h = opt.h,\r\n            xRate = this.xRate,\r\n            rW = w * (1 - xRate * 2)            // 内矩形宽度\r\n\r\n        return {\r\n            cAttr: [\r\n                {   // A\r\n                    x: x - rW/2 , y: y - h/2\r\n                },\r\n                {   // B\r\n                    x: x + rW/2 , y: y - h/2\r\n                },\r\n                {   // C\r\n                    x: x + w/2 , y: y\r\n                },\r\n                {   // D\r\n                    x: x + rW/2 , y: y + h/2\r\n                },\r\n                {   // E\r\n                    x: x - rW/2 , y: y + h/2\r\n                },\r\n                {   // F\r\n                    x: x - w/2 , y: y\r\n                }\r\n            ],\r\n            inLine: [\r\n                {x: x - rW/2 - rW * 0.1, y: y},\r\n                {x: x + rW/2 + rW * 0.1, y: y}\r\n            ]\r\n        }            \r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt){\r\n        this._updAttr(nOpt)\r\n        var {cAttr, inLine} = this.opt2Attr()\r\n        this.c.attr('path', this._ps2PathAttr(cAttr, true))\r\n        this.inlineEle.attr('path', this._ps2PathAttr(inLine))\r\n    }\r\n    /**\r\n     * 节点可移动\r\n     * @returns \r\n     * @memberof NodeAudit\r\n     */\r\n    moveable(){\r\n        var $this = this;\r\n        this.c.undrag()\r\n        this.c.drag(\r\n            function(dx: number, dy: number, x: number, y: number){\r\n                $this.updAttr({cx: x, cy: y})\r\n                return {}\r\n            }\r\n        )\r\n        return $this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeParallel.ts","/**\r\n * 2018年3月26日 星期一\r\n * 合并\r\n */\r\n\r\nimport NodeAbstract from \"./NodeAbstract\"\r\nexport default class NodeMerge extends NodeAbstract{\r\n    xRate: number   // 偏移量\r\n    inlinesEle: RaphaelElement[]\r\n    protected _onInit(){\r\n        this.NodeType = 'merge'\r\n        this.xRate = 0.20        \r\n    }\r\n    protected _whenCreatorEvt(){\r\n        var attrs = this.opt2Attr(),\r\n            opt = this.opt,\r\n            bkg = opt.bkg || '#88EEEA'\r\n        this.c = this.paper.path(this._ps2Path(attrs.cAttr, true))\r\n        this.c.attr('fill', bkg)\r\n        this.inlinesEle = [\r\n            this.paper.path(this._ps2Path(attrs.vLine)),\r\n            this.paper.path(this._ps2Path(attrs.hLine))\r\n        ]\r\n    }\r\n    /**\r\n     * 通过选项映射到节点属性\r\n     */\r\n    opt2Attr(nOpt?: rSu.NodeOpt){\r\n        var opt = nOpt? nOpt : this.opt,\r\n            x = opt.cx - opt.w/2,\r\n            y = opt.cy - opt.h/2,\r\n            w = opt.w,\r\n            h = opt.h,\r\n            xRate = this.xRate,\r\n            rW = w * (1 - xRate * 2)            // 内矩形宽度\r\n\r\n        return {\r\n            cAttr: [\r\n                {   // A\r\n                    x: x - rW/2 , y: y - h/2\r\n                },\r\n                {   // B\r\n                    x: x + rW/2 , y: y - h/2\r\n                },\r\n                {   // C\r\n                    x: x + w/2 , y: y\r\n                },\r\n                {   // D\r\n                    x: x + rW/2 , y: y + h/2\r\n                },\r\n                {   // E\r\n                    x: x - rW/2 , y: y + h/2\r\n                },\r\n                {   // F\r\n                    x: x - w/2 , y: y\r\n                }\r\n            ],\r\n            vLine: [    // 竖线\r\n                {x: x, y: y  - h/2 * 0.80},\r\n                {x: x, y: y  + h/2 * 0.80}\r\n            ],\r\n            hLine: [    // 水平线\r\n                {x: x - rW/2 - rW * 0.1, y: y},\r\n                {x: x + rW/2 + rW * 0.1, y: y}\r\n            ]\r\n        }            \r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt){\r\n        this._updAttr(nOpt)\r\n        var {cAttr, vLine, hLine} = this.opt2Attr()\r\n        this.c.attr('path', this._ps2PathAttr(cAttr, true))\r\n        this.inlinesEle[0].attr('path', this._ps2PathAttr(vLine))\r\n        this.inlinesEle[1].attr('path', this._ps2PathAttr(hLine))\r\n    }\r\n    /**\r\n     * 节点可移动\r\n     * @returns \r\n     * @memberof NodeAudit\r\n     */\r\n    moveable(){\r\n        var $this = this;\r\n        this.c.undrag()\r\n        this.c.drag(\r\n            function(dx: number, dy: number, x: number, y: number){\r\n                $this.updAttr({cx: x, cy: y})\r\n                return {}\r\n            }\r\n        )\r\n        return $this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeMerge.ts","\r\n/**\r\n * 2018年3月26日 星期一\r\n * 结束\r\n */\r\nimport NodeAbstract from \"./NodeAbstract\"\r\nexport default class NodeEnd extends NodeAbstract{\r\n    protected _onInit(){\r\n        this.NodeType = 'end'\r\n    }\r\n    /**\r\n     * 生成器处理事件\r\n     */\r\n    protected _whenCreatorEvt(){\r\n        var opt = this.opt,\r\n            bkg = opt.bkg || '#2EF25F'\r\n        this.c = this.paper.ellipse(opt.cx, opt.cy, opt.w/2, opt.h/2)\r\n        this.c.attr('fill', bkg)\r\n    }\r\n    /**\r\n     * 更新属性\r\n     * @param nOpt \r\n     */\r\n    updAttr(nOpt: rSu.NodeOpt){\r\n        var opt = this._updAttr(nOpt)\r\n            .opt\r\n        this.c.attr({\r\n            cx: opt.cx,\r\n            cy: opt.cy,\r\n            rx: opt.w/2,\r\n            ry: opt.h/2\r\n        })\r\n    }\r\n    /**\r\n     * 节点可移动\r\n     * @returns \r\n     * @memberof NodeAudit\r\n     */\r\n    moveable(){\r\n        var $this = this;\r\n        this.c.undrag()\r\n        this.c.drag(\r\n            function(dx: number, dy: number, x: number, y: number){\r\n                $this.updAttr({cx: x, cy: y})\r\n                return {}\r\n            }\r\n        )\r\n        return $this\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeEnd.ts","/**\r\n * 2018年3月26日 星期一\r\n * 直线\r\n */\r\nimport NodeAbstract from \"./NodeAbstract\"\r\nexport default class NodeLn extends NodeAbstract{\r\n    protected _onInit(){\r\n        this.NodeType = 'ln'\r\n    }\r\n    protected _whenCreatorEvt(){\r\n        var opt = this.opt,\r\n            bkg = opt.bkg || 'rgb(3, 84, 41)'\r\n        this.c = this.paper.path(this._ps2Path(this.opt2Attr()))\r\n        this.c.attr('fill', bkg)\r\n    }\r\n    /**\r\n     * 生成器\r\n     */\r\n    opt2Attr(nOpt?: rSu.NodeOpt){\r\n        var opt = nOpt? nOpt : this.opt,\r\n            P1: rSu.P = opt.P1,\r\n            P2: rSu.P = opt.P2,\r\n            r = opt.r || this.getLen() * 0.2\r\n        \r\n        var atan = Math.atan2(P1.y - P2.y, P2.x - P1.x) * (180 / Math.PI);\r\n\r\n        var centerX = P2.x - r * Math.cos(atan * (Math.PI / 180));\r\n        var centerY = P2.y + r * Math.sin(atan * (Math.PI / 180));\r\n\r\n        var x2 = centerX + r * Math.cos((atan + 120) * (Math.PI / 180));\r\n        var y2 = centerY - r * Math.sin((atan + 120) * (Math.PI / 180));\r\n\r\n        var x3 = centerX + r * Math.cos((atan + 240) * (Math.PI / 180));\r\n        var y3 = centerY - r * Math.sin((atan + 240) * (Math.PI / 180));\r\n\r\n        return [\r\n            P1,\r\n            P2,\r\n            {x: x2, y: y2},\r\n            {x: x3, y: y3},\r\n            P2\r\n        ]\r\n    }\r\n    /**\r\n     * 获取两点间的距离\r\n     */\r\n    getLen(nOpt?: rSu.NodeOpt): number{\r\n        var opt = nOpt? nOpt : this.opt,\r\n            P1: rSu.P = opt.P1,\r\n            P2: rSu.P = opt.P2\r\n        return this.getPLen(P1, P2)\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeLn.ts","/**\r\n * 2018年3月26日 星期一\r\n * 折线\r\n */\r\nimport NodeAbstract from \"./NodeAbstract\"\r\nexport default class NodeLnPoly extends NodeAbstract{\r\n    protected _onInit(){\r\n        this.NodeType = 'ln_poly'\r\n    }\r\n    protected _whenCreatorEvt(){\r\n        this.c = this.paper.path(this._ps2Path(this.opt2Attr()))\r\n    }\r\n    opt2Attr(nOpt?: rSu.NodeOpt){\r\n        var opt = nOpt? nOpt : this.opt,\r\n            P1 = opt.P1,\r\n            P2 = opt.P2,\r\n            h = opt.h || 4,\r\n            rX = opt.rX || 0.35,\r\n            l = this.getLen(),\r\n            r = opt.r || (l * (1 - rX) * 0.2)\r\n\r\n        var nP1: rSu.P = {x: P1.x + l * rX, y: P1.y + h}\r\n\r\n        // 箭头计算\r\n        var atan = Math.atan2(nP1.y - P2.y, P2.x - nP1.x) * (180 / Math.PI);\r\n\r\n        var centerX = P2.x - r * Math.cos(atan * (Math.PI / 180));\r\n        var centerY = P2.y + r * Math.sin(atan * (Math.PI / 180));\r\n\r\n        var x2 = centerX + r * Math.cos((atan + 120) * (Math.PI / 180));\r\n        var y2 = centerY - r * Math.sin((atan + 120) * (Math.PI / 180));\r\n\r\n        var x3 = centerX + r * Math.cos((atan + 240) * (Math.PI / 180));\r\n        var y3 = centerY - r * Math.sin((atan + 240) * (Math.PI / 180));\r\n\r\n        return [\r\n            P1,\r\n            {x: P1.x + l * rX, y: P1.y},\r\n            nP1,\r\n            nP1,\r\n            P2,\r\n            {x: x2, y: y2},\r\n            {x: x3, y: y3},\r\n            P2\r\n        ]            \r\n    }    \r\n    /**\r\n     * 获取两点间的距离\r\n     */\r\n    getLen(nOpt?: rSu.NodeOpt): number{\r\n        var opt = nOpt? nOpt : this.opt,\r\n            P1: rSu.P = opt.P1,\r\n            P2: rSu.P = opt.P2\r\n        return this.getPLen(P1, P2)\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeLnPoly.ts","/**\r\n * 2018年1月4日 星期四\r\n * 工具库\r\n */\r\n// 什么jQuery/RaphaelJs\r\ndeclare var $: any;\r\n// 抽象类型\r\ninterface AbstMap {\r\n    [k: number]: any,\r\n    [k: string]: any\r\n}\r\n\r\n\r\nclass Util{\r\n    /**\r\n     * 对象复制\r\n     * @param {object} t1 \r\n     */\r\n    static clone(t1: object){\r\n        t1 = 'object' == typeof t1? t1:{}\r\n        var obj = {}\r\n        return $.extend(true, obj, t1)\r\n    }\r\n    /**\r\n     * 数据合并相同的元素\r\n     * @param {*} array \r\n     */\r\n    static ArrayMergeSameValue(array: any[]){\r\n        if('object' == typeof array && array.length && array.length > 1){\r\n            var valueMap: AbstMap = {}\r\n            var newArray = []\r\n            for(var i=0; i<array.length; i++){\r\n                if(valueMap[array[i]]){\r\n                    continue\r\n                }\r\n                newArray.push(array[i])\r\n                valueMap[array[i]] = true\r\n            }\r\n            array = newArray\r\n        }\r\n        return array\r\n    }\r\n    /**\r\n     * @param {array|object} obj \r\n     * @param {function} callback (k, v)\r\n     */\r\n    static each(obj: any, callback: any){\r\n        if('object' == typeof obj){\r\n            if($.isArray(obj)){\r\n                for(var i=0; i<obj.length; i++){\r\n                    if(false === callback(i, obj[i])){\r\n                        break\r\n                    }\r\n                }\r\n            }else{\r\n                for(var k in obj){\r\n                    if(false === callback(k, obj[k])){\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n        }        \r\n    }\r\n    /**\r\n     * 字符首字母大写切换，test_case => TestCase, longtext => Longtext\r\n     * @param {string} str \r\n     */\r\n    static ucFirst(str: string, delimter?: string): string{\r\n        delimter = delimter? delimter : '_'\r\n        var strQue: string[] = str.split(delimter)\r\n        strQue.forEach((v: string, idx: number) => {\r\n            strQue[idx] = v.substr(0, 1).toUpperCase() + v.substr(1)\r\n        })\r\n        return strQue.join('')\r\n    }\r\n    /**\r\n     * 判断是否是数组\r\n     * @param {*} value \r\n     */\r\n    static isArray(value: any): boolean{\r\n        if('object' == typeof value){\r\n            return value instanceof Array\r\n        }\r\n        return false\r\n    }\r\n}\r\n\r\nexport {Util}\n\n\n// WEBPACK FOOTER //\n// ./src/util.ts","///<reference path='../index.d.ts' />\r\n/**\r\n * 2018年3月1日 星期四\r\n * worker 工作流编辑器\r\n */\r\nimport H from './helper'            // 助手方法\r\nimport {VersionStruct, LibVersion} from '../version'\r\nimport NodeBegin from './node/NodeBegin';\r\nimport NodeTask from './node/NodeTask';\r\nimport NodeAudit from './node/NodeAudit';\r\nimport NodeSign from './node/NodeSign';\r\nimport NodeCond from './node/NodeCond';\r\nimport NodeSubFlow from './node/NodeSubFlow';\r\nimport NodeParallel from './node/NodeParallel';\r\nimport NodeMerge from './node/NodeMerge';\r\nimport NodeEnd from './node/NodeEnd';\r\nimport NodeLn from './node/NodeLn';\r\nimport NodeLnPoly from './node/NodeLnPoly';\r\nimport NodeAbstract from './node/NodeAbstract';\r\nimport { Util } from './util';\r\nimport ToolBar from './ToolBar';\r\n\r\n// 通过数据 object 类型\r\ninterface ItfMap {\r\n    [k: string]: any,\r\n    [k: number]: any\r\n}\r\n\r\n// 坐标点\r\ninterface ItfPoint {\r\n    x?: number,\r\n    y?: number\r\n}\r\n\r\n// 什么jQuery/RaphaelJs\r\n// declare var $: any;\r\n\r\n// 配置参数常量 , type 1801 为特殊类型\r\nconst Conf = {\r\n    start: {\r\n        type: 1,\r\n        text: '开始'\r\n    },\r\n    opera: {\r\n        type: 2,\r\n        text: '任务'\r\n    },\r\n    judge: {\r\n        type: 3,\r\n        text: '判断'\r\n    },\r\n    end: {\r\n        type: 9,\r\n        text: '结束'\r\n    },\r\n    arrow: {\r\n        type: 1801,\r\n        text: '箭头'\r\n    },\r\n    text: {\r\n        type: 1802,\r\n        text: '文本框',\r\n        size: 10,            // 默认大小\r\n        selected:{              // 选择属性\r\n            'font-size':20,\r\n            'fill':'red'\r\n        },\r\n        // 默认属性\r\n        defAtrr:{\r\n            'font-size':10,\r\n            'fill':'black'\r\n        }\r\n    }\r\n}\r\n/**\r\n * 工作流编辑器轻量级\r\n */\r\nexport default class WorkerEditor{\r\n    // config: object\r\n    config: any\r\n    raphael: any\r\n    _rIdx: number\r\n    _code2EidDick: {\r\n        [k: string]: string\r\n    }\r\n    _LineDragingP:any\r\n    flow: any\r\n    nodeQueues: any\r\n    lineQueues: any\r\n    textQueues: any\r\n    tempNodes: any\r\n    MagneticCore: any\r\n    $tool: any\r\n    toolbarCtrl?: rSu.ToolBar       // 工具栏控制器\r\n    \r\n    protected toolNodeIstQue: any[]     // 工具栏部件节点队列\r\n    // toolNodeIstQue: any[]     // 工具栏部件节点队列\r\n    // 静态属性\r\n    static version: VersionStruct = LibVersion\r\n\r\n    /**\r\n     * @param {object} config 数据配置项\r\n     */\r\n    constructor(config: any){\r\n        this.config = config            // 系统配置参数\r\n        this.raphael = H.createInstance(config) // Raphael 对象        \r\n        // 配置参数处理\r\n        this._configMergeToDefule()\r\n        this._rIdx = 0                          // 内部索引，用于生成代码\r\n        this._code2EidDick = {}                 // 内部代码与元素id的映射字段\r\n        this._LineDragingP = null               // RaphaelElement 直线正在拖动记录点\r\n        // 内部缓存数组件容器： 节点、连接线、独立文本\r\n        this.nodeQueues = []                         // 运行节点数\r\n        this.lineQueues = []                    // 连线记录器\r\n        this.textQueues = []\r\n        this.tempNodes = []                     // 临时节点集\r\n        this.MagneticCore = null                // 连线磁化中心点，用于节点关联，单状态的结构 data: {type: from/to}        \r\n        this._cerateToolBar()\r\n        if(this.config.stepCfg){\r\n            try {\r\n                // this.loadStep(this.config.stepCfg)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 配置参数与默认参数和合并处理\r\n     */\r\n    _configMergeToDefule(){\r\n        // pkgClr 背景颜色\r\n        var pkgClr = this.config.pkgClr || {}\r\n        pkgClr.start = pkgClr.start || 'rgb(181, 216, 126)'\r\n        pkgClr.opera = pkgClr.opera || 'rgb(224, 223, 226)'\r\n        pkgClr.judge = pkgClr.judge || 'rgb(49, 174, 196)'\r\n        pkgClr.end = pkgClr.end || 'rgb(34, 185, 41)'\r\n        pkgClr.arrow = pkgClr.arrow || 'rgb(3, 84, 41)'\r\n        pkgClr.NodeBox = pkgClr.NodeBox || 'rgb(15, 13, 105)'\r\n\r\n        this.config.pkgClr = pkgClr\r\n        this.config.prefCode = this.config.prefCode || 'A' // 内部代码前缀\r\n        this.config.listener = this.config.listener || {}   // 监听事件\r\n\r\n        this.config.noToolBar = this.config.noToolBar || false\r\n    }\r\n    /**\r\n     * 工具栏处理器\r\n     */\r\n    private _cerateToolBar(): any{\r\n        // 工具栏显示控制\r\n        if(this.config.noToolBar){\r\n            return null\r\n        }\r\n        this.toolbarCtrl = new ToolBar(this.raphael, this.config)\r\n    }\r\n    /**\r\n     * 工具集按钮栏\r\n     */\r\n    private _toolbar(){\r\n        // 工具栏参数信息\r\n        var $tool: Dance.Tool = {}  \r\n        var raphael = this.raphael\r\n        var ctX = 5, \r\n            ctY = 5,\r\n            ctW = 75,\r\n            ctH = 300,\r\n            x = ctX, y = ctY,            // 当前坐在的位置坐标\r\n            config = this.config,\r\n            pkgClr = config.pkgClr\r\n        \r\n        // 拖动处理            \r\n        // var dragHandlerEvnt = function(){}\r\n\r\n        // 容器集\r\n        $tool.containerIst = raphael.rect(ctX, ctY, ctW, ctH)\r\n        $tool.containerIst.attr('fill', '#ffffff')      // 容器底色\r\n\r\n        var nodeIstQue: any[] = [],\r\n            ist: NodeAbstract\r\n\r\n        // 开始\r\n        x += 20, y += 50\r\n        ist = new NodeBegin(raphael, {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        nodeIstQue.push(ist)\r\n\r\n        // 任务\r\n        y += 20\r\n        ist = new NodeTask(raphael, {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        nodeIstQue.push(ist)\r\n\r\n        // 审核\r\n        y += 20\r\n        ist = new NodeAudit(raphael, {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        nodeIstQue.push(ist)\r\n        // 会签\r\n        y += 20\r\n        ist = new NodeSign(raphael, {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        nodeIstQue.push(ist)\r\n        // 判断\r\n        y += 20\r\n        ist = new NodeCond(raphael, {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        nodeIstQue.push(ist)\r\n\r\n        // 子流程\r\n        y += 20\r\n        ist = new NodeSubFlow(raphael, {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        nodeIstQue.push(ist)            \r\n        // 并行\r\n        y += 30\r\n        ist = new NodeParallel(raphael, {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        nodeIstQue.push(ist)\r\n        // 合并\r\n        y += 20\r\n        ist = new NodeMerge(raphael, {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        nodeIstQue.push(ist)\r\n        // 结束\r\n        y += 20\r\n        ist = new NodeEnd(raphael, {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()    \r\n        nodeIstQue.push(ist)            \r\n        // 直线\r\n        y += 20\r\n        ist = new NodeLn(raphael, {\r\n            P1: {x: x-5, y},\r\n            P2: {x: x+10, y}\r\n        })\r\n            .creator()\r\n        nodeIstQue.push(ist)            \r\n\r\n        // 折线\r\n        y += 20\r\n        ist = new NodeLnPoly(raphael, {\r\n            P1: {x: x-5, y},            \r\n            P2: {x: x+10, y: y + 4},\r\n            h: 4\r\n        })\r\n            .creator()\r\n        nodeIstQue.push(ist)\r\n        this.toolNodeIstQue = nodeIstQue\r\n        this._toolbarDragEvt()\r\n    }\r\n    /**\r\n     * 工具栏拖动处理事件\r\n     */\r\n    private _toolbarDragEvt(){\r\n        var $this = this;\r\n        this.toolNodeIstQue.forEach((NodeIst: NodeAbstract)=>{\r\n            /**\r\n            // 回调函数保持\r\n            (function(ist: NodeAbstract){\r\n                var NodeType = ist.NodeType,\r\n                ndAst: NodeAbstract\r\n                ist.c.drag(\r\n                    function(dx: number, dy: number, x: number, y: number){\r\n                        //ndAst.opt\r\n                        console.log({cx: x, cy: y}, ndAst)\r\n                        ndAst.updAttr({cx: x, cy: y})\r\n                        return {}\r\n                    },\r\n                    function(x: number, y: number){\r\n                        ndAst = $this.newNode(NodeType, {cx: x, cy: y, w: 50, h:40})\r\n                            .creator()\r\n                            .moveable()\r\n                        return {}\r\n                    }\r\n                )\r\n            })(NodeIst)\r\n            **/\r\n            \r\n            var ist = NodeIst\r\n            var NodeType = ist.NodeType,\r\n                ndAst: NodeAbstract,\r\n                cloneIst: NodeAbstract\r\n            ist.c.drag(\r\n                function(dx: number, dy: number, x: number, y: number): any{\r\n                    //ndAst.opt\r\n                    console.log(arguments)\r\n                    // console.log(cloneIst)\r\n                    // console.log({cx: x, cy: y}, ndAst)\r\n                    // var newElem = $this.getLastElem()\r\n                    // console.log(newElem)\r\n                    // if(!ndAst){\r\n                    //     ndAst = $this.newNode(NodeType, {cx: x, cy: y, w: 50, h:40})\r\n                    //         .creator()\r\n                    //         .moveable()\r\n                    //     $this.nodeQueues.push(ndAst)\r\n                    // }\r\n                    if(ndAst){\r\n                        ndAst.updAttr({cx: x, cy: y})\r\n                    }                    \r\n                },\r\n                function(x: number, y: number): any{\r\n                    ndAst = $this.newNode(NodeType, {cx: x, cy: y, w: 50, h:40})\r\n                        .creator()\r\n                        .moveable()\r\n                    $this.nodeQueues.push(ndAst)\r\n                    \r\n                    // 克隆赋值\r\n                    // cloneIst = this.clone()\r\n                    console.log(this, '测试：start')\r\n                },\r\n                function(): any{\r\n                    console.log(this, '测试：end')\r\n                }\r\n            )\r\n        })\r\n    }\r\n    /**\r\n     * 实例化节点，用于参数示例话节点\r\n     */\r\n    // newNode(NodeType: string, nOpt: rSu.NodeOpt): any{\r\n    newNode(NodeType: string, nOpt: rSu.NodeOpt): NodeAbstract{\r\n        var name = Util.ucFirst(NodeType),\r\n            paper = this.raphael\r\n        var ist: NodeAbstract\r\n        // var ist: any\r\n        switch(name){\r\n            case 'Begin':\r\n                ist = new NodeBegin(paper, nOpt)\r\n                break\r\n            case 'Task':\r\n                ist = new NodeTask(paper, nOpt)\r\n                break\r\n            case 'Audit':\r\n                ist = new NodeAudit(paper, nOpt)\r\n                break\r\n            case 'Sign':\r\n                ist = new NodeSign(paper, nOpt)\r\n                break\r\n            case 'Cond':\r\n                ist = new NodeCond(paper, nOpt)\r\n                break\r\n            case 'SubFlow':\r\n                ist = new NodeSubFlow(paper, nOpt)\r\n                break\r\n            case 'Parallel':\r\n                ist = new NodeParallel(paper, nOpt)\r\n                break\r\n            case 'Merge':\r\n                ist = new NodeMerge(paper, nOpt)\r\n                break\r\n            case 'End':\r\n                ist = new NodeEnd(paper, nOpt)\r\n                break\r\n            case 'Ln':\r\n                ist = new NodeLn(paper, nOpt)\r\n                break\r\n            case 'LnPoly':\r\n                ist = new NodeLnPoly(paper, nOpt)\r\n                break\r\n        }\r\n        return ist\r\n    }\r\n    /**\r\n     * 获取\r\n     */\r\n    _getOrderCode(){\r\n        this._rIdx += 1\r\n        var code = this.config.prefCode + this._rIdx\r\n        // 判断序列号是否已经存在\r\n        if(this._code2EidDick[code]){\r\n            code = this._getOrderCode()\r\n        }\r\n        return code\r\n    }\r\n    /**\r\n     * 移除全部的边框\r\n     */\r\n    removeBBox(){\r\n        this.MagneticCore = null\r\n        // 系统节点\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.bBox){\r\n                node.bBox.remove()\r\n                node.bBox = null    // 清空 bBox \r\n            }\r\n        }\r\n        // 临时节点\r\n        this.removeTempNodes()\r\n        // 直线选中删除\r\n        var lines = this.lineQueues\r\n        for(var k=0; k<lines.length; k++){\r\n            var line = lines[k]\r\n            if(lines.selectEdMk){\r\n                line.selectEdMk = false\r\n            }\r\n        }\r\n        // 移除配置属性\r\n        this.removeIntersectMk()\r\n        // 删除文本选中状态\r\n        this.tempNodes = []\r\n    }\r\n    /**\r\n     * 删除临时节点\r\n     * @returns {this}\r\n     */\r\n    removeTempNodes(){\r\n        // 临时节点\r\n        var tempNodes = this.tempNodes\r\n        for(var j=0; j<tempNodes.length; j++){\r\n            var tNode = tempNodes[j]\r\n            tNode.remove()\r\n        }\r\n    }\r\n    /**\r\n     * 删除节点, 为空是删除当前选中的节点\r\n     * @param {RaphaelElement|string|null} code \r\n     */\r\n    removeNode(code: any){\r\n        if(!code){\r\n            code = this.getSelected()\r\n        }\r\n        if(code){\r\n            var node = 'object' == typeof code? code : \r\n                (this._code2EidDick[code]? this.raphael.getById(this._code2EidDick[code]):this.raphael.getById(code))\r\n            if('object' == typeof node){\r\n                // 删除实体数据\r\n                var id = node.id    // id 数据\r\n                var isConnectMk = false // 是否为连接线\r\n                if(node.NodeType == 'arrow'){\r\n                    isConnectMk = true\r\n                }\r\n                if(node.bBox){\r\n                    node.bBox.remove()\r\n                    node.bBox = null\r\n                }\r\n                // 文本\r\n                if(node.label){\r\n                    node.label.remove()\r\n                    node.label = null\r\n                }\r\n                // 连线选择标识\r\n                if(node.selectEdMk){\r\n                    node.selectEdMk = false\r\n                }\r\n                node.c.remove();\r\n                node = null // 覆盖并或删除数据\r\n                // 清除连接线中的缓存器\r\n                if(isConnectMk){\r\n                    var lines = this.lineQueues\r\n                    var newLineQ = []\r\n                    for(var x=0; x<lines.length; x++){\r\n                        var line = lines[x]\r\n                        if(id == line.c.id){\r\n                            continue\r\n                        }\r\n                        newLineQ.push(line)\r\n                    }\r\n                    this.lineQueues = newLineQ\r\n                }\r\n                else{\r\n                    // 删除内部对象缓存的数据\r\n                    var nodes = this.nodeQueues\r\n                    var nodeStack = []\r\n                    for(var i=0; i<nodes.length; i++){\r\n                        var $node = nodes[i]\r\n                        // 清除已经删除节点的缓存数据\r\n                        if(id == $node.c.id){\r\n                            continue\r\n                        }\r\n                        nodeStack.push($node)\r\n                    }\r\n                    this.nodeQueues = nodeStack\r\n                }\r\n                \r\n                // 删除边框以及选中标识\r\n                this.removeBBox()\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n    /**\r\n     * 移除碰撞属性\r\n     */\r\n    removeIntersectMk(){\r\n        var nodes = this.nodeQueues\r\n        var IntersectEl = null\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node._IntersectMk){\r\n                node._IntersectMk = false       \r\n                var _type = node.NodeType\r\n                var pkgClr = this.config.pkgClr\r\n                if(pkgClr[_type]){\r\n                    node.c.attr('fill', pkgClr[_type])\r\n                }else{\r\n                    _type = node.c.data('type')\r\n                    if(1 == _type){\r\n                        node.c.attr('fill', pkgClr.start)\r\n                    }\r\n                    else if(9 == _type){\r\n                        node.c.attr('fill', pkgClr.end)\r\n                    }\r\n                }\r\n                IntersectEl = node         \r\n\r\n            }\r\n        }\r\n        return IntersectEl\r\n    }\r\n    /**\r\n     * 移除连接检测线，用于连接线与节点关联时删除就的关联\r\n     * @param {NodeBase} lineIst \r\n     * @param {string} type from/to\r\n     * @returns {bool}\r\n     */\r\n    removeConLine(lineIst: any, type: string){\r\n        var isSuccess = false\r\n        if(lineIst && type){\r\n            var nodes = this.nodeQueues\r\n            var refId = lineIst.c.id\r\n            for(var i=0; i<nodes.length; i++){\r\n                var node = nodes[i]\r\n                var lineType = type + 'Line'\r\n                // 只检测为数组的类型\r\n                if(node[lineType] && node[lineType].length){\r\n                    var lineQues = node[lineType]\r\n                    var nLineQues = []\r\n                    for(var j=0; j<lineQues.length; j++){\r\n                        var lineQue = lineQues[j]\r\n                        if(refId != lineQue.c.id){\r\n                            nLineQues.push(lineQue)\r\n                        }\r\n                    }\r\n                    node[lineType] = nLineQues\r\n                }\r\n            }\r\n        }\r\n        return isSuccess\r\n    }\r\n    /**\r\n     * 删除所有对象\r\n     * @returns {this}\r\n     */\r\n    removeAll(){        \r\n        this.removeAllText()\r\n        this.removeAllLine()\r\n        this.removeAllNode()\r\n        return this\r\n    }\r\n    /**\r\n     * 删除所有节点\r\n     * @returns {this}\r\n     */\r\n    removeAllNode(){\r\n        this.removeBBox()\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.label){\r\n                node.label.remove()\r\n            }\r\n            node.c.remove()\r\n        }\r\n        this.nodeQueues = []\r\n        return this\r\n    }\r\n    /**\r\n     * 删除所有直线\r\n     * @returns {this}\r\n     */\r\n    removeAllLine(){\r\n        this.removeBBox()\r\n        var lines = this.lineQueues\r\n        for(var i=0; i<lines.length; i++){\r\n            var line = lines[i]\r\n            line.c.remove()\r\n        }\r\n        this.lineQueues = []\r\n        return this\r\n    }\r\n    /**\r\n     * 删除所有文本\r\n     * @returns {this}\r\n     */\r\n    removeAllText(){\r\n        this.removeBBox()\r\n        var texts = this.textQueues\r\n        for(var i=0; i<texts.length; i++){\r\n            var text = texts[i]\r\n            text.remove()\r\n        }\r\n        this.textQueues = []\r\n        return this\r\n    }\r\n    /**\r\n     * 通过节点代码获取节点\r\n     * @param {string} code  NodeBase.c.data('code')\r\n     * @returns {NodeBase|null}\r\n     */\r\n    getNodeByCode(code: any){\r\n        var nodeIst = null\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.c.data('code') == code){\r\n                nodeIst = node\r\n                break\r\n            }\r\n        }\r\n        return nodeIst\r\n    }\r\n     /**\r\n     * 通过节点代码获取节点\r\n     * @param {string} code  NodeBase.c.id\r\n     * @returns {NodeBase|null}\r\n     */\r\n    getNodeByEid(code: string){\r\n        var nodeIst = null\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.c.id == code){\r\n                nodeIst = node\r\n                break\r\n            }\r\n        }\r\n        return nodeIst\r\n    }\r\n    /**\r\n     * 代码与id对应，不同时传入值；设置字典\r\n     * @param {string|null} code \r\n     * @param {string|null} id \r\n     * @returns {string|null|this}\r\n     */\r\n    code2Id(code: string, id:string){\r\n        // 通过 code 获取 Id\r\n        if(code && !id){\r\n            return this._code2EidDick[code] || null\r\n        }\r\n        // 通过id 获取 code\r\n        else if(id && !code){\r\n            var dick = this._code2EidDick\r\n            for(var prefCode in dick){\r\n                if(id == dick[prefCode]){\r\n                    return prefCode\r\n                }\r\n            }\r\n            return null\r\n        }\r\n        else if(id && code){\r\n            this._code2EidDick[code] = id\r\n            return this\r\n        }\r\n    }\r\n    /**\r\n     * 设置指定/当前选择节点对象属性\r\n     * @param {object} option {text}\r\n     * @param {RaphaelElement|string|null} code REle.id\r\n     * @returns {bool}\r\n     */\r\n    setOption(option: any, code: any){\r\n        var isSuccess = false\r\n        if(option){\r\n            if('object' != typeof option){  // 默认为文本，快速设置文本\r\n                option = {text: option}\r\n            }\r\n            if(!code){\r\n                code = this.getSelected()\r\n            }\r\n            var node = 'object' == typeof code? code : this.getNodeByCode(code)\r\n            // 文本属性\r\n            if(node && option.text){\r\n                if(node.label){\r\n                    node.label.attr('text', option.text)\r\n                    node.opt = node.opt || {}\r\n                    node.opt.text = option.text     // NodeBase 的文本属性值\r\n                    // 自动适应文本的宽度\r\n                    if('function' == typeof node.resizeByText){\r\n                        node.resizeByText()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return isSuccess\r\n    }\r\n    /**\r\n     * 赋值节点，为空是复制当前选中的节点\r\n     * @param {RaphaelElement|string|null} code \r\n     */\r\n    cloneNode(code: any){\r\n        if(!code){\r\n            code = this.getSelected()\r\n        }\r\n        if(code){\r\n            var node = 'object' == typeof code? code : this.raphael.getById(code)\r\n            if('object' == typeof node){\r\n                // 删除实体数据\r\n                var id = node.id    // id 数据\r\n                node.c.clone()\r\n                node.label.clone()\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n    /**\r\n     * 获取被选中的节点，只能一个\r\n     * @returns {NodeBase}\r\n     */\r\n    getSelected(){\r\n        var nodes = this.nodeQueues\r\n        var selectedNode = null\r\n        // 节点扫描\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.bBox){\r\n                selectedNode = node\r\n                break\r\n            }\r\n        }\r\n        //console.log(this.lineQueues, selectedNode)\r\n        if(!selectedNode){\r\n            // 连线扫描\r\n            var lines = this.lineQueues\r\n            for(var j=0; j<lines.length; j++){\r\n                var line = lines[j]\r\n                if(line.selectEdMk){\r\n                    selectedNode = line\r\n                }\r\n            }\r\n        }\r\n        return selectedNode\r\n    }\r\n    /**\r\n     * 获取最新生成的节点\r\n     * @returns {NodeBase}\r\n     */\r\n    getLastElem(){\r\n        var lastElem = null\r\n        var nodes = this.nodeQueues\r\n        if(nodes.length > 0){\r\n            lastElem = nodes[nodes.length - 1]\r\n        }\r\n        return lastElem\r\n    }\r\n    /**\r\n     * 获取工作流步骤,用于保存工作流的数据结构\r\n     * @returns {array}\r\n     */\r\n    getFlowStep(){\r\n        var step = []\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            var stepAttr = this.getFlowJson(node)\r\n            step.push(stepAttr)\r\n        }\r\n        return step\r\n    }\r\n    /**\r\n     * 获取节点业务需求的数据结构\r\n     * @param {NodeBase|null} node 节点实例， 为空时为当前选中的节点\r\n     * @returns {object|null}\r\n     */\r\n    getFlowJson(node: any){\r\n        if(!node){\r\n            node = this.getSelected()\r\n        }\r\n        var fjson: Flower.StepStr = {}\r\n        if(node){\r\n            var label = node.label || null\r\n            var c = node.c\r\n            fjson = {\r\n                name: label? label.attr('text'):'',\r\n                code: c.data('code'),\r\n                type: c.data('type'),\r\n                _struct: node.toJson()\r\n            }\r\n            // 终点\r\n            var toLines = node.toLine\r\n            var toLineArr = []\r\n            for(var j=0; j<toLines.length; j++){\r\n                var code = this.getLineCntCode('from', toLines[j].c.id, node)\r\n                if(code){\r\n                    toLineArr.push(code)\r\n                }\r\n            }\r\n            fjson.prev = toLineArr.length > 0? toLineArr.join(',') : '' \r\n\r\n            // 终点\r\n            var fromLines = node.fromLine\r\n            var fromLineArr = []\r\n            for(var k=0; k<fromLines.length; k++){\r\n                var code = this.getLineCntCode('to', fromLines[k].c.id, node)\r\n                if(code){\r\n                    fromLineArr.push(code)\r\n                }\r\n            }\r\n            fjson.next = fromLineArr.length > 0? fromLineArr.join(',') : '' \r\n        }\r\n        else{\r\n            fjson = null\r\n        }\r\n        return fjson\r\n    }\r\n    /**\r\n     * 获取连接线端点的节点代码\r\n     * @param {string} type from/to\r\n     * @param {string} lineId 直线代码\r\n     * @param {NodeBase|null|string} refIst 参照id/NodeBase attr= {code}\r\n     * @returns {string}\r\n     */\r\n    getLineCntCode(type: string, lineId: string, refIst?: any){\r\n        var code = null\r\n        if(type && lineId){\r\n            var nodes = this.nodeQueues\r\n            var refId = null\r\n            if(refIst){\r\n                refId = 'string' == typeof refIst? refIst : refIst.c.data('code')\r\n            }\r\n            var typeName = type + 'Line'\r\n            for(var i=0; i<nodes.length; i++){\r\n                var node = nodes[i]\r\n                var cId = node.c.data('code')\r\n                if(refId == cId){   // 跳过自身检测\r\n                    continue\r\n                }\r\n                var typeLines = node[typeName]\r\n                for(var j=0; j<typeLines.length; j++){\r\n                    var typeLine = typeLines[j]\r\n                    if(lineId == typeLine.c.id){\r\n                        return cId\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return code\r\n    }\r\n   \r\n    /**\r\n     * 事件处理接口\r\n     * @param {NodeBase} nodeIst \r\n     */\r\n    onNodeClick(nodeIst: any){}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/WorkerEditor.ts","/**\r\n * 2018年1月8日 星期一\r\n * 内部处理类，从 worker.js/flow.js 内部分离\r\n */\r\n\r\n// import {Raphael} from './rSu'\r\n\r\n// 外部对象申明\r\ndeclare var Raphael: any\r\ndeclare var $:any\r\n\r\ninterface numberMap {\r\n    [k: number]: any\r\n}\r\n\r\n\r\n\r\n// 实例索引序列\r\nvar instanceIndex = 0\r\nvar instanceSource: numberMap = {}     // 实列资源队列\r\n\r\n// 内部协助函数(私有)\r\nclass H{\r\n    /**\r\n     * 内部函数生成实例\r\n     * @param {*} config \r\n     */\r\n    static createInstance(config?: any){\r\n        config = 'object' == typeof config? config:{}\r\n        if(!config.dom){\r\n            if(process.env.NODE_ENV !== 'production'){\r\n                console.warn('[Worker] 配置文件无效，缺少 config.dom')\r\n            }\r\n        }\r\n        // 生成 HTML\r\n        if('string' == typeof config.dom){\r\n            config.dom = $(config.dom)\r\n        }\r\n        if(!config.w){\r\n            // config.w = parseInt(width * 1.1)\r\n            config.w = $(window).width() * 1.1\r\n        }\r\n        if(!config.h){\r\n            config.h = $(window).height() * 1.1\r\n        }\r\n        return Raphael(config.dom.get(0), config.w, config.h)\r\n    }\r\n    static onMoveEvt(){}\r\n    static onStartEvt(){}\r\n    static onEndEvt(){}\r\n    /**\r\n     * 内部索引序列\r\n     */\r\n    static getIndex(){\r\n        instanceIndex += 1\r\n        return instanceIndex\r\n    }\r\n    /**\r\n     * 内部资源处理\r\n     * @param {number} index \r\n     * @param {string|null} key \r\n     * @param {*} value \r\n     */\r\n    static src(index: number, key?:any, value?: any){\r\n        if(!instanceSource[index]){\r\n            instanceSource[index] = {}\r\n        }\r\n        var dd = instanceSource[index]\r\n        if('undefined' == typeof key){\r\n            return dd\r\n        }\r\n        if('undefined' == typeof value){\r\n            return dd[key] || null\r\n        }\r\n        dd[key] = value\r\n    }\r\n}\r\n\r\nexport default H\n\n\n// WEBPACK FOOTER //\n// ./src/helper.ts","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 15\n// module chunks = 0","\n    export interface VersionStruct {\n        version?: string\n        release?: string\n        author?: string\n    }\n    export const LibVersion: VersionStruct = {\"version\":\"2.0.6\",\"release\":\"20180329\",\"author\":\"Joshua Conero\"}\n    \n\n\n// WEBPACK FOOTER //\n// ./version.ts","import { NodeQue } from \"./NodeQue\";\r\n\r\n/**\r\n * 2018年3月29日 星期四\r\n * 工具栏\r\n */\r\n\r\nexport default class ToolBar{\r\n    paper: RaphaelPaper\r\n    option: rSu.bsMap\r\n    ndMer: rSu.NodeQue\r\n    // title node 基本标题框节点\r\n    protected tNodes: {\r\n        [k: string]: RaphaelElement\r\n    } = {}\r\n    // 标题容器中的节点数\r\n    protected tBodyNds: rSu.Node[]\r\n\r\n    // 连接线\r\n    protected cNodes:{\r\n        [k: string]: RaphaelElement\r\n    } = {}\r\n    // 标题容器中的节点数\r\n    protected cBodyNds: rSu.Node[]\r\n\r\n\r\n    protected _tools: RaphaelElement[] = []     // 工具栏\r\n    constructor(paper: RaphaelPaper, opt?: rSu.bsMap){\r\n        this.paper = paper\r\n        this.ndMer = new NodeQue(this.paper)\r\n        this.option = opt\r\n        this._create()\r\n    }\r\n    /**\r\n     * 生成工具栏\r\n     */\r\n    private _create(){\r\n        // console.log(this.paper)\r\n         // 工具栏参数信息\r\n         var $tool: Dance.Tool = {},\r\n            $this = this,\r\n            // tNodes: RaphaelElement[] = []\r\n            // 节点缓存器\r\n            tNodes: {\r\n                [k: string]: RaphaelElement\r\n            } = {},\r\n            tBodyNds: rSu.Node[] = []         // 内部缓存的节点\r\n\r\n            // 节点缓存器\r\n            , cNodes: {\r\n                [k: string]: RaphaelElement\r\n            } = {},\r\n            cBodyNds: rSu.Node[] = []         // 内部缓存的节点\r\n\r\n         var raphael = this.paper\r\n         var ctX = 5, \r\n             ctY = 5,\r\n             ctW = 75,\r\n             ctH = 300,\r\n             x = ctX, y = ctY,            // 当前坐在的位置坐标\r\n             config = this.option,\r\n             pkgClr = config.pkgClr,\r\n             ist: rSu.Node,\r\n             ndMer = this.ndMer\r\n         \r\n         // 拖动处理            \r\n         // var dragHandlerEvnt = function(){}\r\n \r\n         // 容器集\r\n        //  $tool.containerIst = raphael.rect(ctX, ctY, ctW, ctH)\r\n        //  $tool.containerIst.attr('fill', '#ffffff')      // 容器底色\r\n        \r\n        // data: toggle => H/S\r\n        tNodes['title'] = raphael.rect(x, y, ctW, 23)\r\n            .attr('fill', '#ffffff')\r\n            .click(function(){\r\n                // console.log(this)\r\n                let toggle = this.data('toggle')\r\n                let iconIst = tNodes['icon'],\r\n                    tBody = tNodes['tBody']\r\n                if(toggle != 'H'){\r\n                    this.data('toggle', 'H')\r\n                    if(iconIst){\r\n                        iconIst.attr('src', './arrow_down.png')\r\n                    }\r\n                    if(tBody){\r\n                        tBody.hide()\r\n                    }\r\n                    $this.tToggle('H')\r\n                }else{\r\n                    this.data('toggle', 'S')\r\n                    if(iconIst){\r\n                        iconIst.attr('src', './arrow_up.png')\r\n                    }\r\n                    if(tBody){\r\n                        tBody.show()\r\n                    }\r\n                    $this.tToggle('S')\r\n                }\r\n            })\r\n        tNodes['icon'] = raphael.image('./arrow_up.png', x+1, y+1, 20, 20)\r\n\r\n        y += 23\r\n        tNodes['tBody'] = raphael.rect(x, y, ctW, 250)\r\n            .attr('fill', '#ffffff')\r\n        \r\n        // 开始\r\n        x += 20, y += 50\r\n        ist = ndMer.make('begin', {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        tBodyNds.push(ist)\r\n\r\n        // 任务\r\n        y += 20\r\n        ist = ndMer.make('task', {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        tBodyNds.push(ist)\r\n        \r\n        // 审核\r\n        y += 20\r\n        ist = ndMer.make('audit', {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        tBodyNds.push(ist)\r\n\r\n        // 会签\r\n        y += 20\r\n        ist = ndMer.make('sign', {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        tBodyNds.push(ist)\r\n       \r\n        // 判断\r\n        y += 20\r\n        ist = ndMer.make('cond', {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        tBodyNds.push(ist)\r\n\r\n        // 子流程\r\n        y += 20\r\n        ist = ndMer.make('subFlow', {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        tBodyNds.push(ist)\r\n\r\n        // 并行\r\n        y += 30\r\n        ist = ndMer.make('parallel', {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        tBodyNds.push(ist)\r\n       \r\n        // 合并\r\n        y += 20\r\n        ist = ndMer.make('merge', {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        tBodyNds.push(ist)\r\n      \r\n        // 结束\r\n        y += 20\r\n        ist = ndMer.make('end', {cx: x, cy: y, w: 16, h: 12})\r\n            .creator()\r\n        tBodyNds.push(ist)\r\n\r\n        this.tNodes = tNodes\r\n        this.tBodyNds = tBodyNds\r\n\r\n        // 连接线\r\n        \r\n        // data: toggle => H/S\r\n        x = x - 20,\r\n        y += 10\r\n        cNodes['title'] = raphael.rect(x, y, ctW, 23)\r\n            .attr('fill', '#ffffff')\r\n            .click(function(){\r\n                // console.log(this)\r\n                let toggle = this.data('toggle')\r\n                let iconIst = cNodes['icon'],\r\n                    cBody = cNodes['tBody']\r\n                if(toggle != 'H'){\r\n                    this.data('toggle', 'H')\r\n                    if(iconIst){\r\n                        iconIst.attr('src', './arrow_down.png')\r\n                    }\r\n                    if(cBody){\r\n                        cBody.hide()\r\n                    }\r\n                    $this.cToggle('H')\r\n                }else{\r\n                    this.data('toggle', 'S')\r\n                    if(iconIst){\r\n                        iconIst.attr('src', './arrow_up.png')\r\n                    }\r\n                    if(cBody){\r\n                        cBody.show()\r\n                    }\r\n                    $this.cToggle('S')\r\n                }\r\n            })\r\n        cNodes['icon'] = raphael.image('./arrow_up.png', x+1, y+1, 20, 20)\r\n        \r\n        y += 23\r\n        cNodes['tBody'] = raphael.rect(x, y, ctW, 80)\r\n            .attr('fill', '#ffffff')\r\n        \r\n        x = x + 20\r\n        // 直线\r\n        y += 20\r\n        ist = ndMer.make('ln', {\r\n            P1: {x: x-5, y},\r\n            P2: {x: x+10, y}\r\n        })\r\n            .creator()\r\n        cBodyNds.push(ist)\r\n\r\n        // 折线\r\n        y += 20\r\n        ist = ndMer.make('lnPoly', {\r\n            P1: {x: x-5, y},            \r\n            P2: {x: x+10, y: y + 4},\r\n            h: 4\r\n        })\r\n            .creator()\r\n        cBodyNds.push(ist)\r\n\r\n        this.cNodes = cNodes\r\n        this.cBodyNds = cBodyNds\r\n\r\n    }\r\n    /**\r\n     * 标题栏显示与隐藏\r\n     * @param {string} type 显示与隐藏， H/S\r\n     */\r\n    tToggle(type?:string){\r\n        var tBodyNds = this.tBodyNds\r\n        if('H' != type){\r\n            tBodyNds.forEach((nd) => {\r\n                nd.show()\r\n            })\r\n        }\r\n        else{\r\n            tBodyNds.forEach((nd) => {\r\n                nd.hide()\r\n            })\r\n        }\r\n    }\r\n    /**\r\n     * 标题栏显示与隐藏\r\n     * @param {string} type 显示与隐藏， H/S\r\n     */\r\n    cToggle(type?:string){\r\n        var cBodyNds = this.cBodyNds\r\n        if('H' != type){\r\n            cBodyNds.forEach((nd) => {\r\n                nd.show()\r\n            })\r\n        }\r\n        else{\r\n            cBodyNds.forEach((nd) => {\r\n                nd.hide()\r\n            })\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ToolBar.ts","\r\n/**\r\n * 2018年3月29日 星期四\r\n * 节点队列\r\n */\r\nimport { Util } from \"./util\";\r\nimport NodeAbstract from \"./node/NodeAbstract\";\r\nimport NodeBegin from \"./node/NodeBegin\";\r\nimport NodeTask from \"./node/NodeTask\";\r\nimport NodeAudit from \"./node/NodeAudit\";\r\nimport NodeSign from \"./node/NodeSign\";\r\nimport NodeCond from \"./node/NodeCond\";\r\nimport NodeSubFlow from \"./node/NodeSubFlow\";\r\nimport NodeParallel from \"./node/NodeParallel\";\r\nimport NodeMerge from \"./node/NodeMerge\";\r\nimport NodeEnd from \"./node/NodeEnd\";\r\nimport NodeLn from \"./node/NodeLn\";\r\nimport NodeLnPoly from \"./node/NodeLnPoly\";\r\n//export \r\nexport class NodeQue{\r\n    paper: RaphaelPaper\r\n    constructor(paper: RaphaelPaper){\r\n        this.paper = paper\r\n    }\r\n    /**\r\n     * 生成节点\r\n     * @param NodeType \r\n     * @param nOpt \r\n     */\r\n    make(NodeType: string, nOpt: rSu.NodeOpt): rSu.Node{\r\n        var name = Util.ucFirst(NodeType),\r\n            paper = this.paper\r\n        var ist: NodeAbstract\r\n        // var ist: any\r\n        switch(name){\r\n            case 'Begin':\r\n                ist = new NodeBegin(paper, nOpt)\r\n                break\r\n            case 'Task':\r\n                ist = new NodeTask(paper, nOpt)\r\n                break\r\n            case 'Audit':\r\n                ist = new NodeAudit(paper, nOpt)\r\n                break\r\n            case 'Sign':\r\n                ist = new NodeSign(paper, nOpt)\r\n                break\r\n            case 'Cond':\r\n                ist = new NodeCond(paper, nOpt)\r\n                break\r\n            case 'SubFlow':\r\n                ist = new NodeSubFlow(paper, nOpt)\r\n                break\r\n            case 'Parallel':\r\n                ist = new NodeParallel(paper, nOpt)\r\n                break\r\n            case 'Merge':\r\n                ist = new NodeMerge(paper, nOpt)\r\n                break\r\n            case 'End':\r\n                ist = new NodeEnd(paper, nOpt)\r\n                break\r\n            case 'Ln':\r\n                ist = new NodeLn(paper, nOpt)\r\n                break\r\n            case 'LnPoly':\r\n                ist = new NodeLnPoly(paper, nOpt)\r\n                break\r\n        }\r\n        return ist\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/NodeQue.ts"],"sourceRoot":""}