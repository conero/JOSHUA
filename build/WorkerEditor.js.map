{"version":3,"sources":["webpack:///webpack/bootstrap dc33d3672f2b0787126f","webpack:///./src/node/NodeBase.ts","webpack:///./src/node/NodeJudge.ts","webpack:///./src/WorkerEditor.ts","webpack:///./src/helper.ts","webpack:///./node_modules/process/browser.js","webpack:///./src/flow.ts","webpack:///./src/node/NodeEndpoint.ts","webpack:///./src/node/NodeOperation.ts","webpack:///./src/node/NodeLine.ts","webpack:///./src/util.ts","webpack:///./src/node/NodeArrow.ts","webpack:///./src/node/NodeBow.ts","webpack:///./version.ts"],"names":[],"mappings":"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9EhB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;;;;;;;;AClLQ;AACE;AACR;AACF;AACE;AACJ;AAEpC;IAEI;;OAEG;IACH,cAAY,KAAU;QAClB,IAAI,CAAC,KAAK,GAAG,KAAK;IACtB,CAAC;IACD;;;;;;OAMG;IACH,uBAAQ,GAAR,UAAS,EAAU,EAAE,EAAU,EAAE,CAAS,EAAE,IAAY;QACpD,IAAI,EAAE,GAAG,IAAI,mEAAY,CAAC,IAAI,CAAC,KAAK,CAAC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","file":"./build/WorkerEditor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dc33d3672f2b0787126f","/**\r\n * 2018年1月5日 星期五\r\n * 基础节点类\r\n */\r\n\r\n// 工作流数据结构 -------------------------------------------------------------------->\r\n\r\ndeclare namespace  Flow{\r\n    // 工作流-步骤-属性\r\n    interface FlowStepAttr{\r\n        col_list?: string[]\r\n        can_revoke?: number\r\n        auth_list?: any\r\n        filter_by?: any\r\n    }\r\n    // 工作流-步骤-属性\r\n    interface FlowStepStru{\r\n        NodeType?: string\r\n        opt?: rSu.NodeOpt\r\n        c?: any\r\n        label?: any\r\n    }\r\n    // 工作流-步骤 数据结构\r\n    interface FlowStepStr{\r\n        code?: string                // 代码\r\n        name?: string                // 名称\r\n        type?: number\r\n        prev?: string\r\n        next?: string\r\n        attr?: FlowStepAttr\r\n        _struct?: FlowStepStru\r\n    }\r\n}\r\n\r\n// 工作流数据结构 --------------------------------------------------------------------||\r\n\r\n// 图标界面 -------------------------------------------------------------------->\r\n\r\n// 画布\r\ndeclare namespace Dance {\r\n    // 工具栏\r\n    interface Tool{\r\n        containerIst?: any        \r\n        startIst?: any\r\n        startTxtIst?: any\r\n        operaIst?: any\r\n        operaTxtIst?: any\r\n        judgeIst?: any\r\n        judgeTxtIst?: any\r\n        endIst?: any\r\n        endTxtIst?: any\r\n        arrowIst?: any\r\n        arrowTxtIst?: any\r\n        textInst?: any\r\n    }\r\n}\r\n// 界面布局\r\ndeclare namespace rSu{\r\n    // 坐标点\r\n    interface P{\r\n        x: number\r\n        y: number\r\n    }\r\n    // 节点属性\r\n    interface NodeOpt{\r\n        cx?: number \r\n        cy?: number \r\n        w?: number \r\n        h?: number\r\n        text?: string\r\n    }\r\n}\r\n\r\n// 图标界面 --------------------------------------------------------------------||\r\n\r\nclass NodeBase{\r\n    fromLine: any\r\n    toLine: any\r\n    NodeType: string\r\n    opt: rSu.NodeOpt\r\n    label: any\r\n    c: any\r\n    constructor(){\r\n        // 连接线起点获取终点\r\n        this.fromLine = []\r\n        this.toLine = []\r\n        this.NodeType = null            // 节点类型\r\n    }    \r\n    /**\r\n     * 记录连接线\r\n     * @param {stirng} type 连接线类型\r\n     * @param {this}  $node 节点实例\r\n     */\r\n    recordLine(type: string, $node: any){\r\n        if('from' == type){\r\n            this.fromLine.push($node)\r\n        }\r\n        else if('to' == type){\r\n            this.toLine.push($node)\r\n        }\r\n    }\r\n    /**\r\n     * 同步处理连线\r\n     * @param {function} callback \r\n     */\r\n    syncLineMove(callback: any){\r\n        if('function' !== typeof callback){\r\n            callback = (instance: any, type: any) => {}\r\n        }\r\n        // 直线同步移动\r\n        var fLines = this.fromLine        \r\n        var tLines = this.toLine\r\n        // 起点列表处理\r\n        for(var i=0; i<fLines.length; i++){\r\n            var $fC = fLines[i].c\r\n            var $fPath = $fC.attr('path')\r\n            callback($fC, 'from', fLines[i])\r\n        }\r\n        // 终点列表处理\r\n        for(var j=0; j<tLines.length; j++){\r\n            var $tC = tLines[j].c\r\n            callback($tC, 'to', tLines[j])\r\n        }\r\n    }\r\n    /**\r\n     * 公共接口化\r\n     * NodeBase struct to json 对象， 用于生产节点中 “struct” 的数据结构\r\n     * @returns {object}\r\n     */\r\n    toJson(){\r\n        var _struct: Flow.FlowStepStru = {\r\n            NodeType: this.NodeType,            // 节点类型\r\n            opt: this.opt,                      // 数据属性\r\n            c: {\r\n                attr: this.c.attr()              // 容器属性值\r\n            }            \r\n        }\r\n        if(this.label){                         // 节点标签\r\n            _struct.label = {\r\n                attr: this.label.attr()\r\n            }\r\n        }\r\n        return _struct\r\n    }\r\n}\r\nexport default NodeBase\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeBase.ts","/**\r\n * 2018年1月5日 星期五\r\n * 判断处理节点\r\n */\r\nimport NodeBase from './NodeBase'\r\n\r\n// 工作流数据结构 -------------------------------------------------------------------->\r\n\r\ndeclare namespace  Flow{\r\n    // 工作流-步骤-属性\r\n    interface FlowStepAttr{\r\n        col_list?: string[]\r\n        can_revoke?: number\r\n        auth_list?: any\r\n        filter_by?: any\r\n    }\r\n    // 工作流-步骤-属性\r\n    interface FlowStepStru{\r\n        NodeType?: string\r\n        opt?: rSu.NodeOpt\r\n        c?: any\r\n        label: any\r\n    }\r\n    // 工作流-步骤 数据结构\r\n    interface FlowStepStr{\r\n        code?: string                // 代码\r\n        name?: string                // 名称\r\n        type?: number\r\n        prev?: string\r\n        next?: string\r\n        attr?: FlowStepAttr\r\n        _struct?: FlowStepStru\r\n    }\r\n}\r\n\r\n\r\n\r\n// 工作流数据结构 --------------------------------------------------------------------||\r\n\r\n\r\n\r\n// 图标界面 -------------------------------------------------------------------->\r\n\r\n// 画布\r\ndeclare namespace Dance {\r\n    // 工具栏\r\n    interface Tool{\r\n        containerIst?: any        \r\n        startIst?: any\r\n        startTxtIst?: any\r\n        operaIst?: any\r\n        operaTxtIst?: any\r\n        judgeIst?: any\r\n        judgeTxtIst?: any\r\n        endIst?: any\r\n        endTxtIst?: any\r\n        arrowIst?: any\r\n        arrowTxtIst?: any\r\n        textInst?: any\r\n    }\r\n}\r\n// 界面布局\r\ndeclare namespace rSu{\r\n    // 坐标点\r\n    interface P{\r\n        x: number\r\n        y: number\r\n    }\r\n    // 节点属性\r\n    interface NodeOpt{\r\n        cx?: number \r\n        cy?: number \r\n        w?: number \r\n        h?: number\r\n        text?: string\r\n    }\r\n}\r\n\r\n// 图标界面 --------------------------------------------------------------------||\r\n\r\nclass NodeJudge extends NodeBase{\r\n    NodeType: any\r\n    opt: any\r\n    c: any\r\n    label: any\r\n    instance: any\r\n    minWidth: any\r\n    [k: string]: any\r\n    /**\r\n     * \r\n     * @param {*} instance Raphael 实例\r\n     */\r\n    constructor(instance: any){\r\n        super()\r\n        this.NodeType = 'judge'\r\n        this.instance = instance\r\n        this.opt = {}       // 配置信息数据\r\n    }\r\n    /**\r\n     * 仅仅生成容器并且返回对象\r\n     * @param {number} cx \r\n     * @param {number} cy \r\n     * @param {number} w \r\n     * @param {number} h \r\n     * @returns RaphaelElement\r\n     */\r\n    onlyCell(cx: number, cy: number, w: number, h: number){\r\n        this.opt = {cx, cy, w, h}\r\n        // 容器        \r\n        var ap = this.getAp()\r\n        var bp = this.getBp()\r\n        var cp = this.getCp()\r\n        var dp = this.getDp()\r\n        return this.instance.path(\r\n            'M' + ap.x + ',' + ap.y +\r\n            'L' + bp.x + ',' + bp.y +\r\n            'L' + cp.x + ',' + cp.y +\r\n            'L' + dp.x + ',' + dp.y +\r\n            'Z'\r\n        )\r\n    }\r\n    /**\r\n     * @param {object} opt / [cx, cy, w, h, text]\r\n     */\r\n    create(opt: rSu.NodeOpt){\r\n        this.opt = opt\r\n        this.minWidth = opt.w\r\n        // 容器        \r\n        var ap = this.getAp()\r\n        var bp = this.getBp()\r\n        var cp = this.getCp()\r\n        var dp = this.getDp()\r\n        this.c = this.instance.path(\r\n            'M' + ap.x + ',' + ap.y +\r\n            'L' + bp.x + ',' + bp.y +\r\n            'L' + cp.x + ',' + cp.y +\r\n            'L' + dp.x + ',' + dp.y +\r\n            'Z'\r\n        )\r\n        // 标签\r\n        var label\r\n        if(opt.text){\r\n            label = this.instance.text(opt.cx, opt.cy, opt.text)\r\n        }else{\r\n            label = this.instance.text(opt.cx, opt.cy)\r\n        }\r\n        this.label = label\r\n        this.resizeByText()\r\n    }\r\n    /**\r\n     * 根据文本宽度自动适应文本的宽度\r\n     */\r\n    resizeByText(){\r\n        if(this.label){\r\n            var box = this.label.getBBox()\r\n            var width = Math.ceil(box.width)\r\n            var w = this.c.attr('w')\r\n            if(width < this.minWidth && w<this.minWidth){\r\n                return\r\n            }\r\n            // 保持最小宽度\r\n            if(width < this.minWidth){\r\n                width = this.minWidth\r\n            }else{\r\n                width += 25\r\n            }            \r\n            this.opt.w = width\r\n            this.resizeByOpt()\r\n        }     \r\n    }\r\n    /**\r\n     * 根据 opt 值的改变重调整容器形状大小\r\n     */\r\n    resizeByOpt(){\r\n        var ap = this.getAp()\r\n        var bp = this.getBp()\r\n        var cp = this.getCp()\r\n        var dp = this.getDp()\r\n        this.c.attr('path', [\r\n            ['M', ap.x, ap.y],\r\n            ['L', bp.x, bp.y],\r\n            ['L', cp.x, cp.y],\r\n            ['L', dp.x, dp.y],\r\n            ['Z']                   \r\n        ])\r\n    }\r\n    // 按照 A 点移动\r\n    move(x: number, y: number){\r\n        var ctP = this.getCpByAp(x, y)\r\n        var bP = this.getBp(ctP.x, ctP.y)\r\n        var cP = this.getCp(ctP.x, ctP.y)\r\n        var dP = this.getDp(ctP.x, ctP.y)\r\n        // 容器移动\r\n        this.c.attr('path', [\r\n            ['M', x, y],\r\n            ['L', bP.x, bP.y],\r\n            ['L', cP.x, cP.y],\r\n            ['L', dP.x, dP.y],\r\n            ['Z']\r\n        ])\r\n        // 数据选项值更新\r\n        this.opt.cx = ctP.x\r\n        this.opt.cy = ctP.y\r\n        // 文本移动\r\n        this.label.attr(ctP)\r\n    }\r\n    // 直线同步移动\r\n    ToSyncLine(x: number, y: number){\r\n        var ctP = this.getCpByAp(x, y)\r\n        this.syncLineMove((lnC: any, type: string, $ln: any) => {\r\n            var position = $ln.position\r\n            var methodName\r\n            if(type == 'from'){\r\n                methodName = 'get' + position.from + 'p'\r\n                var p1 = this[methodName](ctP.x, ctP.y)\r\n                var $fPath = lnC.attr('path')\r\n                $fPath[0] = ['M', p1.x, p1.y]\r\n                lnC.attr('path', $fPath)\r\n            }\r\n            else if(type == 'to'){\r\n                methodName = 'get' + position.to + 'p'\r\n                var p2 = this[methodName](ctP.x, ctP.y)\r\n                var $tPath = lnC.attr('path')\r\n                $tPath[$tPath.length -1] = ['L', p2.x, p2.y]\r\n                lnC.attr('path', $tPath)\r\n            }\r\n        })\r\n    }\r\n    // 箭头同步器\r\n    ToSyncArrow(x: number, y: number){\r\n        var ctP = this.getCpByAp(x, y)\r\n        this.syncLineMove((lnC: any, type: any, $ln: any) => {\r\n            var position = $ln.position\r\n            var methodName\r\n            if(type == 'from'){\r\n                methodName = 'get' + position.from + 'p'\r\n                var p1 = this[methodName](ctP.x, ctP.y)\r\n                $ln.updatePath([p1.x, p1.y])\r\n            }\r\n            else if(type == 'to'){\r\n                methodName = 'get' + position.to + 'p'\r\n                var p2 = this[methodName](ctP.x, ctP.y)\r\n                $ln.updatePath(null, [p2.x, p2.y])\r\n            }\r\n        })\r\n    }\r\n    // 获取连线的起点节点\r\n    getStlnP(position: string){\r\n        // var position = 'D'\r\n        position = position? position:'D'\r\n        var methodName = 'get' + position + 'p';\r\n        // var p = this.getDp()\r\n        var p = this[methodName]()\r\n        // 起点重合\r\n        if(this.isCoincidence(p, 'from')){\r\n            p = this.getCp()\r\n            position = 'C'\r\n        }\r\n        var nP = {x: p.x, y: p.y, position}\r\n        return nP\r\n    }\r\n    // 获取连线的终点节点\r\n    getEnlnP(position: string){\r\n        position = position? position:'B'\r\n        // var p = this.getBp()\r\n        var methodName = 'get' + position + 'p'\r\n        var p = this[methodName]()\r\n        p.position = position\r\n        return p\r\n    }\r\n    /**\r\n     * 根据 A 点获取中心点\r\n     */\r\n    getCpByAp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x += opt.w/2\r\n        return {x, y}\r\n    }\r\n    // A 点\r\n    getAp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x -= (opt.w/2)\r\n        return {x, y}\r\n    }\r\n    getBp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        y -= (opt.h/2)\r\n        return {x, y}\r\n    }\r\n    getCp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x += (opt.w/2)\r\n        return {x, y}\r\n    }\r\n    getDp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        y += (opt.h/2)\r\n        return {x, y}\r\n    }\r\n    /**\r\n     * 是否为重合点\r\n     * @param {object} p {x,y}\r\n     * @param {string} type [from/to]\r\n     * @returns {boolean}\r\n     */\r\n    isCoincidence(p: any, type: string){\r\n        var successMK = false\r\n        if(p && 'object' == typeof p && \r\n            'undefined' != typeof p.x && 'undefined' != typeof p.y){\r\n            // 起点\r\n            if('from' == type){\r\n                if(this.fromLine.length > 0){\r\n                    for(var i=0; i<this.fromLine.length; i++){\r\n                        var $line = this.fromLine[i]\r\n                        var path = $line.c.attr('path')\r\n                        var pathArr = path[0]\r\n                        if(pathArr[1] == p.x && pathArr[2] == p.y){\r\n                            successMK = true\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // 终点\r\n            else if('to' == type){\r\n                if(this.toLine.length > 0){\r\n                    for(var j=0; j<this.toLine.length; j++){\r\n                        var $line = this.toLine[j]\r\n                        var path = $line.c.attr('path')\r\n                        var pathArr = path[path.length - 1]\r\n                        if(pathArr[1] == p.x && pathArr[2] == p.y){\r\n                            successMK = true\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return successMK\r\n    }\r\n}\r\n\r\nexport default NodeJudge\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeJudge.ts","/**\r\n * 2018年3月1日 星期四\r\n * worker 工作流编辑器\r\n */\r\nimport H from './helper'            // 助手方法\r\nimport Judge from './node/NodeJudge'\r\nimport {Flow} from './flow'\r\nimport {VersionStruct, LibVersion} from '../version'\r\n\r\n\r\n// 工作流-步骤-属性\r\ninterface FlowStepAttr{\r\n    col_list?: string[]\r\n    can_revoke?: number\r\n    auth_list?: any\r\n    filter_by?: any\r\n}\r\n// 工作流-步骤 数据结构\r\ninterface FlowStepStr{\r\n    code?: string                // 代码\r\n    name?: string                // 名称\r\n    type?: number\r\n    prev?: string\r\n    next?: string\r\n    attr?: FlowStepAttr\r\n    _struct?: any\r\n}\r\n\r\n\r\n// 画布\r\ndeclare namespace Dance {\r\n    // 工具栏\r\n    interface Tool{\r\n        containerIst?: any        \r\n        startIst?: any\r\n        startTxtIst?: any\r\n        operaIst?: any\r\n        operaTxtIst?: any\r\n        judgeIst?: any\r\n        judgeTxtIst?: any\r\n        endIst?: any\r\n        endTxtIst?: any\r\n        arrowIst?: any\r\n        arrowTxtIst?: any\r\n        textInst?: any\r\n    }\r\n}\r\n\r\n// 节点布局\r\ndeclare namespace rSu{\r\n    // 坐标点\r\n    interface P{\r\n        x?: number\r\n        y?: number\r\n    }\r\n}\r\n\r\n// 通过数据 object 类型\r\ninterface ItfMap {\r\n    [k: string]: any,\r\n    [k: number]: any\r\n}\r\n\r\n// 坐标点\r\ninterface ItfPoint {\r\n    x?: number,\r\n    y?: number\r\n}\r\n\r\n// 什么jQuery/RaphaelJs\r\ndeclare var $: any;\r\n\r\n// 配置参数常量 , type 1801 为特殊类型\r\nconst Conf = {\r\n    start: {\r\n        type: 1,\r\n        text: '开始'\r\n    },\r\n    opera: {\r\n        type: 2,\r\n        text: '任务'\r\n    },\r\n    judge: {\r\n        type: 3,\r\n        text: '判断'\r\n    },\r\n    end: {\r\n        type: 9,\r\n        text: '结束'\r\n    },\r\n    arrow: {\r\n        type: 1801,\r\n        text: '箭头'\r\n    },\r\n    text: {\r\n        type: 1802,\r\n        text: '文本框',\r\n        size: 10,            // 默认大小\r\n        selected:{              // 选择属性\r\n            'font-size':20,\r\n            'fill':'red'\r\n        },\r\n        // 默认属性\r\n        defAtrr:{\r\n            'font-size':10,\r\n            'fill':'black'\r\n        }\r\n    }\r\n}\r\n/**\r\n * 工作流编辑器轻量级\r\n */\r\nexport default class WorkerEditor{\r\n    // config: object\r\n    config: any\r\n    raphael: any\r\n    _rIdx: number\r\n    _code2EidDick: {\r\n        [k: string]: string\r\n    }\r\n    _LineDragingP:any\r\n    flow: any\r\n    nodeQueues: any\r\n    lineQueues: any\r\n    textQueues: any\r\n    tempNodes: any\r\n    MagneticCore: any\r\n    $tool: any\r\n    // 静态属性\r\n    static version: VersionStruct = LibVersion\r\n\r\n    /**\r\n     * @param {object} config 数据配置项\r\n     */\r\n    constructor(config: any){\r\n        this.config = config            // 系统配置参数\r\n        this.raphael = H.createInstance(config) // Raphael 对象        \r\n        // 配置参数处理\r\n        this._configMergeToDefule()\r\n        this._rIdx = 0                          // 内部索引，用于生成代码\r\n        this._code2EidDick = {}                 // 内部代码与元素id的映射字段\r\n        this._LineDragingP = null               // RaphaelElement 直线正在拖动记录点\r\n        this.flow = new Flow(this.raphael)      // 工作流程按钮\r\n        // 内部缓存数组件容器： 节点、连接线、独立文本\r\n        this.nodeQueues = []                         // 运行节点数\r\n        this.lineQueues = []                    // 连线记录器\r\n        this.textQueues = []\r\n        this.tempNodes = []                     // 临时节点集\r\n        this.MagneticCore = null                // 连线磁化中心点，用于节点关联，单状态的结构 data: {type: from/to}\r\n        // 工具栏显示控制\r\n        if(!this.config.noToolBar){\r\n            this._toolbar()\r\n        }\r\n        if(this.config.stepCfg){\r\n            try {\r\n                this.loadStep(this.config.stepCfg)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 配置参数与默认参数和合并处理\r\n     */\r\n    _configMergeToDefule(){\r\n        // pkgClr 背景颜色\r\n        var pkgClr = this.config.pkgClr || {}\r\n        pkgClr.start = pkgClr.start || 'rgb(181, 216, 126)'\r\n        pkgClr.opera = pkgClr.opera || 'rgb(224, 223, 226)'\r\n        pkgClr.judge = pkgClr.judge || 'rgb(49, 174, 196)'\r\n        pkgClr.end = pkgClr.end || 'rgb(34, 185, 41)'\r\n        pkgClr.arrow = pkgClr.arrow || 'rgb(3, 84, 41)'\r\n        pkgClr.NodeBox = pkgClr.NodeBox || 'rgb(15, 13, 105)'\r\n\r\n        this.config.pkgClr = pkgClr\r\n        this.config.prefCode = this.config.prefCode || 'A' // 内部代码前缀\r\n        this.config.listener = this.config.listener || {}   // 监听事件\r\n\r\n        this.config.noToolBar = this.config.noToolBar || false\r\n    }\r\n    /**\r\n     * 工具集按钮栏\r\n     */\r\n    _toolbar(){\r\n        // 工具栏参数信息\r\n        var $tool: Dance.Tool = {}  \r\n        var raphael = this.raphael\r\n        var ctX = 5, \r\n            ctY = 5,\r\n            ctW = 75,\r\n            ctH = 300,\r\n            x = ctX, y = ctY,            // 当前坐在的位置坐标\r\n            config = this.config,\r\n            pkgClr = config.pkgClr\r\n        \r\n        // 拖动处理            \r\n        // var dragHandlerEvnt = function(){}\r\n\r\n        // 容器集\r\n        $tool.containerIst = raphael.rect(ctX, ctY, ctW, ctH)\r\n        $tool.containerIst.attr('fill', '#ffffff')      // 容器底色\r\n\r\n        // 开始\r\n        x += 20, y += 50\r\n        $tool.startIst = raphael.ellipse(x, y, 8, 6)\r\n        $tool.startIst.attr('fill', pkgClr.start)\r\n        $tool.startTxtIst = raphael.text(x+30, y, Conf.start.text)\r\n\r\n        // 流程\r\n        y += 20\r\n        $tool.operaIst = raphael.rect(x-8, y, 16, 12)\r\n        $tool.operaIst.attr('fill', pkgClr.opera)\r\n        $tool.operaTxtIst = raphael.text(x+30, y+4, Conf.opera.text)\r\n\r\n        // 判断\r\n        y += 30\r\n        $tool.judgeIst = (new Judge(raphael)).onlyCell(x, y, 16, 12)\r\n        $tool.judgeIst.attr('fill', pkgClr.judge)\r\n        $tool.judgeTxtIst = raphael.text(x+30, y, Conf.judge.text)\r\n\r\n        // 结束\r\n        y += 30\r\n        $tool.endIst = raphael.ellipse(x, y, 8, 6)\r\n        $tool.endIst.attr('fill', pkgClr.end)\r\n        $tool.endTxtIst = raphael.text(x+30, y, Conf.end.text)\r\n\r\n        // 箭头\r\n        y += 30\r\n        $tool.arrowIst = this.flow.arrow([x-5,y], [x+10, y], 3)\r\n        $tool.arrowIst.c.attr('fill', pkgClr.arrow)\r\n        $tool.arrowTxtIst = raphael.text(x+30, y, Conf.arrow.text)\r\n\r\n\r\n        // 文本框\r\n        y += 30\r\n        $tool.textInst = this.raphael.text(x+10, y, Conf.text.text)\r\n\r\n        this.$tool = $tool\r\n        this._toolbarDragEvt()\r\n    }\r\n    /**\r\n     * 工具栏拖动处理\r\n     */\r\n    _toolbarDragEvt(){\r\n        // console.log(this.$tool)\r\n        var $this = this\r\n        var pkgClr = this.config.pkgClr\r\n        // 拖动处理    \r\n        var dragHandlerEvnt = function(node: any, type: any){\r\n            $this.MagneticCore = null           // 移动工具栏时磁芯消失\r\n            var cDragDt = {dx: 0, dy: 0}\r\n            node.drag(\r\n                function(dx: number, dy: number){   // moving\r\n                    // console.log(type)\r\n                    // console.log(dx, dy)\r\n                    // cDragDt = {dx, dy}\r\n                    dx += cDragDt.dx\r\n                    dy += cDragDt.dy\r\n                    var newElem = $this.getLastElem()\r\n                    if(newElem){\r\n                        newElem.move(dx, dy)\r\n                    }\r\n                },\r\n                function(){         // start\r\n                    // cDragDt = {dx: 0, dy: 0}\r\n                    var _x, _y\r\n                    if(2 == type){\r\n                        _x = this.attr('x')\r\n                        _y = this.attr('y')\r\n                    }else if(3 == type){\r\n                        var tpPath = this.attr('path')\r\n                        var tpPath0 = tpPath[0]\r\n                        _x = tpPath0[1]\r\n                        _y = tpPath0[2]\r\n                    }else{\r\n                        // console.log(this)\r\n                        _x = this.attr('cx')\r\n                        _y = this.attr('cy')\r\n                    }\r\n                    \r\n                    cDragDt.dx = _x + 5\r\n                    cDragDt.dy = _y + 10\r\n\r\n                    // cDragDt.x = _x\r\n                    // cDragDt.y = _y\r\n                    // console.log(cDragDt)\r\n                    $this._createNode(cDragDt, type)\r\n                },\r\n                function(){         // end\r\n                    // if(cDragDt.dx < 75 || cDragDt.dy < 50){\r\n                    //     return null\r\n                    // }\r\n                    // $this._createNode(cDragDt, type)\r\n                }\r\n            )\r\n        }\r\n        // 开始\r\n        dragHandlerEvnt(this.$tool.startIst, Conf.start.type)\r\n        dragHandlerEvnt(this.$tool.startTxtIst, Conf.start.type)\r\n\r\n        // 流程\r\n        dragHandlerEvnt(this.$tool.operaIst, Conf.opera.type)\r\n        dragHandlerEvnt(this.$tool.operaTxtIst, Conf.opera.type)\r\n\r\n        // 判断\r\n        dragHandlerEvnt(this.$tool.judgeIst, Conf.judge.type)\r\n        dragHandlerEvnt(this.$tool.judgeTxtIst, Conf.judge.type)\r\n\r\n        // 结束\r\n        dragHandlerEvnt(this.$tool.endIst, Conf.end.type)\r\n        dragHandlerEvnt(this.$tool.endTxtIst, Conf.end.type)\r\n\r\n        // 特殊部件生成器\r\n        // dragHandlerEvnt(this.$tool.arrowIst, Conf.arrow.type)\r\n        // console.log(this.$tool.arrowIst)\r\n        // this.$tool.arrowIst.c.drag()\r\n        var arrowDragHandler = function(ist: any){\r\n            var cDragDt = {x: 0, y: 0};\r\n            var innerTmpArror: any = null\r\n            ist.drag(\r\n                function(x: number, y: number){\r\n                    x += cDragDt.x\r\n                    y += cDragDt.y\r\n                    if(innerTmpArror){\r\n                        innerTmpArror.updatePath([x, y], [x + 50, y])\r\n                    }\r\n                },\r\n                function(){\r\n                    if('text' == ist.type){\r\n                        cDragDt.x = ist.attr('x')                        \r\n                        cDragDt.y = ist.attr('y')                        \r\n                    }\r\n                    else{\r\n                        var pathA1 = ist.attr('path')\r\n                        pathA1 = pathA1[0]\r\n                        cDragDt.x = pathA1[1]\r\n                        cDragDt.y = pathA1[2]\r\n                    }\r\n                    // 生成连线\r\n                    innerTmpArror = $this.flow.arrow([cDragDt.x, cDragDt.y], [cDragDt.x + 50, cDragDt.y], 5)\r\n                    innerTmpArror.c.attr('fill', pkgClr.arrow);\r\n                    $this._lineTragEvent(innerTmpArror)                    \r\n                    $this.lineQueues.push(innerTmpArror)\r\n                },\r\n                function(){\r\n                }\r\n            )\r\n            // })()\r\n        }\r\n        arrowDragHandler(this.$tool.arrowIst.c)\r\n        arrowDragHandler(this.$tool.arrowTxtIst);\r\n\r\n        // 文字拖动\r\n        (function(){\r\n            var _dragDt = {x: 0, y:0}\r\n            var tmpTxtInst: any = null   // 临时文本\r\n            $this.$tool.textInst.drag(\r\n                function(x: number, y: number){\r\n                    x += _dragDt.x\r\n                    y += _dragDt.y\r\n                    if(tmpTxtInst){\r\n                        tmpTxtInst.attr({x, y})\r\n                    }\r\n                },\r\n                function(){\r\n                    _dragDt.x = this.attr('x') + 5\r\n                    _dragDt.y = this.attr('y') + 5\r\n                    tmpTxtInst = $this.raphael.text(_dragDt.x, _dragDt.y, '文本框')\r\n                    $this._textBindEvent(tmpTxtInst)\r\n                    $this.textQueues.push(tmpTxtInst)\r\n                },\r\n                function(){}\r\n            )\r\n        })()\r\n    }\r\n    /**\r\n     * 获取\r\n     */\r\n    _getOrderCode(){\r\n        this._rIdx += 1\r\n        var code = this.config.prefCode + this._rIdx\r\n        // 判断序列号是否已经存在\r\n        if(this._code2EidDick[code]){\r\n            code = this._getOrderCode()\r\n        }\r\n        return code\r\n    }\r\n    /**\r\n     * 移除全部的边框\r\n     */\r\n    removeBBox(){\r\n        this.MagneticCore = null\r\n        // 系统节点\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.bBox){\r\n                node.bBox.remove()\r\n                node.bBox = null    // 清空 bBox \r\n            }\r\n        }\r\n        // 临时节点\r\n        this.removeTempNodes()\r\n        // 直线选中删除\r\n        var lines = this.lineQueues\r\n        for(var k=0; k<lines.length; k++){\r\n            var line = lines[k]\r\n            if(lines.selectEdMk){\r\n                line.selectEdMk = false\r\n            }\r\n        }\r\n        // 移除配置属性\r\n        this.removeIntersectMk()\r\n        // 删除文本选中状态\r\n        this._removeTxtSelect()\r\n        this.tempNodes = []\r\n    }\r\n    /**\r\n     * 删除临时节点\r\n     * @returns {this}\r\n     */\r\n    removeTempNodes(){\r\n        // 临时节点\r\n        var tempNodes = this.tempNodes\r\n        for(var j=0; j<tempNodes.length; j++){\r\n            var tNode = tempNodes[j]\r\n            tNode.remove()\r\n        }\r\n    }\r\n    /**\r\n     * 删除节点, 为空是删除当前选中的节点\r\n     * @param {RaphaelElement|string|null} code \r\n     */\r\n    removeNode(code: any){\r\n        if(!code){\r\n            code = this.getSelected()\r\n        }\r\n        if(code){\r\n            var node = 'object' == typeof code? code : \r\n                (this._code2EidDick[code]? this.raphael.getById(this._code2EidDick[code]):this.raphael.getById(code))\r\n            if('object' == typeof node){\r\n                // 删除实体数据\r\n                var id = node.id    // id 数据\r\n                var isConnectMk = false // 是否为连接线\r\n                if(node.NodeType == 'arrow'){\r\n                    isConnectMk = true\r\n                }\r\n                if(node.bBox){\r\n                    node.bBox.remove()\r\n                    node.bBox = null\r\n                }\r\n                // 文本\r\n                if(node.label){\r\n                    node.label.remove()\r\n                    node.label = null\r\n                }\r\n                // 连线选择标识\r\n                if(node.selectEdMk){\r\n                    node.selectEdMk = false\r\n                }\r\n                node.c.remove();\r\n                node = null // 覆盖并或删除数据\r\n                // 清除连接线中的缓存器\r\n                if(isConnectMk){\r\n                    var lines = this.lineQueues\r\n                    var newLineQ = []\r\n                    for(var x=0; x<lines.length; x++){\r\n                        var line = lines[x]\r\n                        if(id == line.c.id){\r\n                            continue\r\n                        }\r\n                        newLineQ.push(line)\r\n                    }\r\n                    this.lineQueues = newLineQ\r\n                }\r\n                else{\r\n                    // 删除内部对象缓存的数据\r\n                    var nodes = this.nodeQueues\r\n                    var nodeStack = []\r\n                    for(var i=0; i<nodes.length; i++){\r\n                        var $node = nodes[i]\r\n                        // 清除已经删除节点的缓存数据\r\n                        if(id == $node.c.id){\r\n                            continue\r\n                        }\r\n                        nodeStack.push($node)\r\n                    }\r\n                    this.nodeQueues = nodeStack\r\n                }\r\n                \r\n                // 删除边框以及选中标识\r\n                this.removeBBox()\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n    /**\r\n     * 移除碰撞属性\r\n     */\r\n    removeIntersectMk(){\r\n        var nodes = this.nodeQueues\r\n        var IntersectEl = null\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node._IntersectMk){\r\n                node._IntersectMk = false       \r\n                var _type = node.NodeType\r\n                var pkgClr = this.config.pkgClr\r\n                if(pkgClr[_type]){\r\n                    node.c.attr('fill', pkgClr[_type])\r\n                }else{\r\n                    _type = node.c.data('type')\r\n                    if(1 == _type){\r\n                        node.c.attr('fill', pkgClr.start)\r\n                    }\r\n                    else if(9 == _type){\r\n                        node.c.attr('fill', pkgClr.end)\r\n                    }\r\n                }\r\n                IntersectEl = node         \r\n\r\n            }\r\n        }\r\n        return IntersectEl\r\n    }\r\n    /**\r\n     * 移除连接检测线，用于连接线与节点关联时删除就的关联\r\n     * @param {NodeBase} lineIst \r\n     * @param {string} type from/to\r\n     * @returns {bool}\r\n     */\r\n    removeConLine(lineIst: any, type: string){\r\n        var isSuccess = false\r\n        if(lineIst && type){\r\n            var nodes = this.nodeQueues\r\n            var refId = lineIst.c.id\r\n            for(var i=0; i<nodes.length; i++){\r\n                var node = nodes[i]\r\n                var lineType = type + 'Line'\r\n                // 只检测为数组的类型\r\n                if(node[lineType] && node[lineType].length){\r\n                    var lineQues = node[lineType]\r\n                    var nLineQues = []\r\n                    for(var j=0; j<lineQues.length; j++){\r\n                        var lineQue = lineQues[j]\r\n                        if(refId != lineQue.c.id){\r\n                            nLineQues.push(lineQue)\r\n                        }\r\n                    }\r\n                    node[lineType] = nLineQues\r\n                }\r\n            }\r\n        }\r\n        return isSuccess\r\n    }\r\n    /**\r\n     * 删除所有对象\r\n     * @returns {this}\r\n     */\r\n    removeAll(){        \r\n        this.removeAllText()\r\n        this.removeAllLine()\r\n        this.removeAllNode()\r\n        return this\r\n    }\r\n    /**\r\n     * 删除所有节点\r\n     * @returns {this}\r\n     */\r\n    removeAllNode(){\r\n        this.removeBBox()\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.label){\r\n                node.label.remove()\r\n            }\r\n            node.c.remove()\r\n        }\r\n        this.nodeQueues = []\r\n        return this\r\n    }\r\n    /**\r\n     * 删除所有直线\r\n     * @returns {this}\r\n     */\r\n    removeAllLine(){\r\n        this.removeBBox()\r\n        var lines = this.lineQueues\r\n        for(var i=0; i<lines.length; i++){\r\n            var line = lines[i]\r\n            line.c.remove()\r\n        }\r\n        this.lineQueues = []\r\n        return this\r\n    }\r\n    /**\r\n     * 删除所有文本\r\n     * @returns {this}\r\n     */\r\n    removeAllText(){\r\n        this.removeBBox()\r\n        var texts = this.textQueues\r\n        for(var i=0; i<texts.length; i++){\r\n            var text = texts[i]\r\n            text.remove()\r\n        }\r\n        this.textQueues = []\r\n        return this\r\n    }\r\n    /**\r\n     * 通过节点代码获取节点\r\n     * @param {string} code  NodeBase.c.data('code')\r\n     * @returns {NodeBase|null}\r\n     */\r\n    getNodeByCode(code: any){\r\n        var nodeIst = null\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.c.data('code') == code){\r\n                nodeIst = node\r\n                break\r\n            }\r\n        }\r\n        return nodeIst\r\n    }\r\n     /**\r\n     * 通过节点代码获取节点\r\n     * @param {string} code  NodeBase.c.id\r\n     * @returns {NodeBase|null}\r\n     */\r\n    getNodeByEid(code: string){\r\n        var nodeIst = null\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.c.id == code){\r\n                nodeIst = node\r\n                break\r\n            }\r\n        }\r\n        return nodeIst\r\n    }\r\n    /**\r\n     * 代码与id对应，不同时传入值；设置字典\r\n     * @param {string|null} code \r\n     * @param {string|null} id \r\n     * @returns {string|null|this}\r\n     */\r\n    code2Id(code: string, id:string){\r\n        // 通过 code 获取 Id\r\n        if(code && !id){\r\n            return this._code2EidDick[code] || null\r\n        }\r\n        // 通过id 获取 code\r\n        else if(id && !code){\r\n            var dick = this._code2EidDick\r\n            for(var prefCode in dick){\r\n                if(id == dick[prefCode]){\r\n                    return prefCode\r\n                }\r\n            }\r\n            return null\r\n        }\r\n        else if(id && code){\r\n            this._code2EidDick[code] = id\r\n            return this\r\n        }\r\n    }\r\n    /**\r\n     * 设置指定/当前选择节点对象属性\r\n     * @param {object} option {text}\r\n     * @param {RaphaelElement|string|null} code REle.id\r\n     * @returns {bool}\r\n     */\r\n    setOption(option: any, code: any){\r\n        var isSuccess = false\r\n        if(option){\r\n            if('object' != typeof option){  // 默认为文本，快速设置文本\r\n                option = {text: option}\r\n            }\r\n            if(!code){\r\n                code = this.getSelected()\r\n            }\r\n            var node = 'object' == typeof code? code : this.getNodeByCode(code)\r\n            // 文本属性\r\n            if(node && option.text){\r\n                if(node.label){\r\n                    node.label.attr('text', option.text)\r\n                    node.opt = node.opt || {}\r\n                    node.opt.text = option.text     // NodeBase 的文本属性值\r\n                    // 自动适应文本的宽度\r\n                    if('function' == typeof node.resizeByText){\r\n                        node.resizeByText()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return isSuccess\r\n    }\r\n    /**\r\n     * 赋值节点，为空是复制当前选中的节点\r\n     * @param {RaphaelElement|string|null} code \r\n     */\r\n    cloneNode(code: any){\r\n        if(!code){\r\n            code = this.getSelected()\r\n        }\r\n        if(code){\r\n            var node = 'object' == typeof code? code : this.raphael.getById(code)\r\n            if('object' == typeof node){\r\n                // 删除实体数据\r\n                var id = node.id    // id 数据\r\n                node.c.clone()\r\n                node.label.clone()\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n    /**\r\n     * 获取被选中的节点，只能一个\r\n     * @returns {NodeBase}\r\n     */\r\n    getSelected(){\r\n        var nodes = this.nodeQueues\r\n        var selectedNode = null\r\n        // 节点扫描\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            if(node.bBox){\r\n                selectedNode = node\r\n                break\r\n            }\r\n        }\r\n        //console.log(this.lineQueues, selectedNode)\r\n        if(!selectedNode){\r\n            // 连线扫描\r\n            var lines = this.lineQueues\r\n            for(var j=0; j<lines.length; j++){\r\n                var line = lines[j]\r\n                if(line.selectEdMk){\r\n                    selectedNode = line\r\n                }\r\n            }\r\n        }\r\n        return selectedNode\r\n    }\r\n    /**\r\n     * 获取最新生成的节点\r\n     * @returns {NodeBase}\r\n     */\r\n    getLastElem(){\r\n        var lastElem = null\r\n        var nodes = this.nodeQueues\r\n        if(nodes.length > 0){\r\n            lastElem = nodes[nodes.length - 1]\r\n        }\r\n        return lastElem\r\n    }\r\n    /**\r\n     * 获取工作流步骤,用于保存工作流的数据结构\r\n     * @returns {array}\r\n     */\r\n    getFlowStep(){\r\n        var step = []\r\n        var nodes = this.nodeQueues\r\n        for(var i=0; i<nodes.length; i++){\r\n            var node = nodes[i]\r\n            var stepAttr = this.getFlowJson(node)\r\n            step.push(stepAttr)\r\n        }\r\n        return step\r\n    }\r\n    /**\r\n     * 获取节点业务需求的数据结构\r\n     * @param {NodeBase|null} node 节点实例， 为空时为当前选中的节点\r\n     * @returns {object|null}\r\n     */\r\n    getFlowJson(node: any){\r\n        if(!node){\r\n            node = this.getSelected()\r\n        }\r\n        var fjson: FlowStepStr = {}\r\n        if(node){\r\n            var label = node.label || null\r\n            var c = node.c\r\n            fjson = {\r\n                name: label? label.attr('text'):'',\r\n                code: c.data('code'),\r\n                type: c.data('type'),\r\n                _struct: node.toJson()\r\n            }\r\n            // 终点\r\n            var toLines = node.toLine\r\n            var toLineArr = []\r\n            for(var j=0; j<toLines.length; j++){\r\n                var code = this.getLineCntCode('from', toLines[j].c.id, node)\r\n                if(code){\r\n                    toLineArr.push(code)\r\n                }\r\n            }\r\n            fjson.prev = toLineArr.length > 0? toLineArr.join(',') : '' \r\n\r\n            // 终点\r\n            var fromLines = node.fromLine\r\n            var fromLineArr = []\r\n            for(var k=0; k<fromLines.length; k++){\r\n                var code = this.getLineCntCode('to', fromLines[k].c.id, node)\r\n                if(code){\r\n                    fromLineArr.push(code)\r\n                }\r\n            }\r\n            fjson.next = fromLineArr.length > 0? fromLineArr.join(',') : '' \r\n        }\r\n        else{\r\n            fjson = null\r\n        }\r\n        return fjson\r\n    }\r\n    /**\r\n     * 获取连接线端点的节点代码\r\n     * @param {string} type from/to\r\n     * @param {string} lineId 直线代码\r\n     * @param {NodeBase|null|string} refIst 参照id/NodeBase attr= {code}\r\n     * @returns {string}\r\n     */\r\n    getLineCntCode(type: string, lineId: string, refIst?: any){\r\n        var code = null\r\n        if(type && lineId){\r\n            var nodes = this.nodeQueues\r\n            var refId = null\r\n            if(refIst){\r\n                refId = 'string' == typeof refIst? refIst : refIst.c.data('code')\r\n            }\r\n            var typeName = type + 'Line'\r\n            for(var i=0; i<nodes.length; i++){\r\n                var node = nodes[i]\r\n                var cId = node.c.data('code')\r\n                if(refId == cId){   // 跳过自身检测\r\n                    continue\r\n                }\r\n                var typeLines = node[typeName]\r\n                for(var j=0; j<typeLines.length; j++){\r\n                    var typeLine = typeLines[j]\r\n                    if(lineId == typeLine.c.id){\r\n                        return cId\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return code\r\n    }\r\n    /**\r\n     * 获取碰撞的元素\r\n     * @param {object} point {x, y} 坐标点\r\n     * @returns {RapaelElement|null}\r\n     */\r\n    getIntersectElem(point: rSu.P){\r\n        var itsctEl = null\r\n        if('object' == typeof point){\r\n            var nodes = this.nodeQueues\r\n            for(var i=0; i<nodes.length; i++){\r\n                var node = nodes[i]\r\n                var type = node.NodeType\r\n                if('endpnt' == type){\r\n                    var $c = node.c\r\n                    var cx = $c.attr('cx'),\r\n                        cy = $c.attr('cy'),\r\n                        rx = $c.attr('rx'),\r\n                        ry = $c.attr('ry')\r\n                    if(\r\n                        // x\r\n                        (point.x >= (cx - rx) && point.x <= (cx + rx))\r\n                        // y\r\n                        && \r\n                        (point.y >= (cy - ry) && point.y <= (cy + ry))\r\n                    ){\r\n                        itsctEl = node\r\n                        break\r\n                    }        \r\n                }\r\n                else if('opera' == type){\r\n                    var $c = node.c,\r\n                        x = $c.attr('x'),\r\n                        y = $c.attr('y'),\r\n                        w = $c.attr('width'),\r\n                        h = $c.attr('height')\r\n                    if(\r\n                        // x\r\n                        (point.x >= x && point.x <= (x + w))\r\n                        // y\r\n                        && \r\n                        (point.y >= y && point.y <= (y + h))\r\n                    ){\r\n                        itsctEl = node\r\n                        break\r\n                    }   \r\n                }\r\n                else if('judge' == type){\r\n                    var $opt = node.opt,\r\n                        cx = $opt.cx,\r\n                        cy = $opt.cy,\r\n                        h = $opt.h,\r\n                        w = $opt.w\r\n                    if(\r\n                        // x\r\n                        (point.x >= (cx - w/2) && point.x <= (cx + w/2))\r\n                        // y\r\n                        && \r\n                        (point.y >= (cy - h/2) && point.y <= (cy + h/2))\r\n                    ){\r\n                        itsctEl = node\r\n                        break\r\n                    }    \r\n                }\r\n                //console.log(node)\r\n            }\r\n        }\r\n        return itsctEl\r\n    }\r\n    /**\r\n     * 加载流程数据,用于修改时加载历史数据\r\n     * @param {object|null} steps \r\n     */\r\n    loadStep(steps: any){\r\n        if('object' == typeof steps){\r\n            // 连接性先关联信息: {id:{}}\r\n            var lineCntMapInfo: ItfMap = {},\r\n                pkgClr = this.config.pkgClr\r\n            // 记录连线端点信息                \r\n            var recordLMapFn = (_from: string, _to: string) =>{\r\n                if(_from.indexOf(',') == -1){\r\n                    var _toQus = _to.indexOf(',') == -1? [_to]: _to.split(',')\r\n                    for(var x1=0; x1<_toQus.length; x1++){\r\n                        var ftK = _from + '__' + _toQus[x1]\r\n                        if(!lineCntMapInfo[ftK]){\r\n                            lineCntMapInfo[ftK] = true\r\n                        }\r\n                    }\r\n                }\r\n                else if(_to.indexOf(',') == -1){\r\n                    var _fromQus = _from.indexOf(',') == -1? [_from]: _from.split(',')\r\n                    for(var x2=0; x2<_fromQus.length; x2++){\r\n                        var ftK = _fromQus[x2] + '__' + _to\r\n                        if(!lineCntMapInfo[ftK]){\r\n                            lineCntMapInfo[ftK] = true\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // 遍历节点\r\n            for(var i = 0;i <steps.length; i++){\r\n                var step = steps[i]\r\n                var _struct = step._struct,\r\n                    opt = _struct.opt,\r\n                    config = this.config,\r\n                    pkgClr = config.pkgClr\r\n                var type = step.type\r\n                var nodeIst = null\r\n                if(1 == type || 9 == type){\r\n                    nodeIst = this.flow.endpoint(opt.cx, opt.cy, opt.r, opt.text)\r\n                    if(1 == type){\r\n                        nodeIst.c.attr('fill', pkgClr.start)\r\n                    }else{\r\n                        nodeIst.c.attr('fill', pkgClr.end)\r\n                    }\r\n                }\r\n                else if(2 == type){\r\n                    nodeIst = this.flow.operation(opt.cx, opt.cy, opt.w, opt.h, opt.text)\r\n                    nodeIst.c.attr('fill', pkgClr.opera)\r\n                }\r\n                else if(3 == type){\r\n                    nodeIst = this.flow.judge(opt.cx, opt.cy, opt.w, opt.h, opt.text)\r\n                    nodeIst.c.attr('fill', pkgClr.judge)\r\n                }\r\n                if(nodeIst){\r\n                    var code = step.code || nodeIst.c.data('code')\r\n                    var instId = nodeIst.c.id\r\n                    if(!code){\r\n                        code = this._getOrderCode()\r\n                    }\r\n                    nodeIst.c.data('code', code)\r\n                    this._code2EidDick[code] = instId\r\n                    nodeIst.c.data('type', type)\r\n                    this._bindEvent(nodeIst)\r\n                    this.nodeQueues.push(nodeIst)\r\n                    \r\n                    // 连线缓存器\r\n                    var prev = step.prev || null    // to\r\n                    if(prev){\r\n                        recordLMapFn(prev, code)\r\n                    }\r\n                    var next = step.next || null    // from\r\n                    if(next){\r\n                        recordLMapFn(code, next)\r\n                    }\r\n\r\n                    // lineCntMapInfo[instId] = lineCntMapInfo[instId] || {}                    \r\n                    // var prev = step.prev || null    // to\r\n                    // if(prev){\r\n                    //     var prevQu = lineCntMapInfo[instId].to || []\r\n                    //     if(prev.indexOf(',') > -1){\r\n                    //         prevQu = [].concat(prevQu, prev.split(','))\r\n                    //     }else{\r\n                    //         prevQu.push(prev)\r\n                    //     }\r\n                    //     lineCntMapInfo[instId].to = prevQu\r\n                    // }\r\n                    // var next = step.next || null    // from\r\n                    // if(next){\r\n                    //     var nextQu = lineCntMapInfo[instId].from || []\r\n                    //     if(next.indexOf(',') > -1){\r\n                    //         nextQu = [].concat(nextQu, next.split(','))\r\n                    //     }else{\r\n                    //         nextQu.push(next)\r\n                    //     }\r\n                    //     lineCntMapInfo[instId].from = nextQu\r\n                    // }\r\n                }\r\n            }\r\n            // console.log(lineCntMapInfo)\r\n\r\n            for(var lnstr in lineCntMapInfo){\r\n                var lnstrQus = lnstr.split('__')\r\n                var fCodeNd = this.getNodeByCode(lnstrQus[0])\r\n                var tCodeNd = this.getNodeByCode(lnstrQus[1])\r\n                //console.log(fCodeNd, tCodeNd)\r\n                var p1 = fCodeNd.getStlnP()\r\n                var p2 = tCodeNd.getEnlnP()\r\n                // console.log(p1, p2)\r\n                var innerTmpArror = this.flow.arrow([p1.x, p1.y], [p2.x, p2.y], 5)\r\n                // 连线实体关联，起点\r\n                if(!innerTmpArror.position){\r\n                    innerTmpArror.position = {}\r\n                }\r\n                innerTmpArror.position['from'] = p1.position\r\n                fCodeNd.recordLine('from', innerTmpArror)\r\n                tCodeNd.recordLine('to', innerTmpArror)\r\n                innerTmpArror.position['to'] = p2.position\r\n\r\n                innerTmpArror.c.attr('fill', pkgClr.arrow)                            \r\n                this._lineTragEvent(innerTmpArror)\r\n                this.lineQueues.push(innerTmpArror)\r\n            }\r\n        }\r\n        // console.log(this._code2EidDick)\r\n        // console.log(steps)\r\n        // console.log(lineCntMapInfo)\r\n        //console.log(this.getFlowStep())\r\n        return this\r\n    }\r\n    /**\r\n     * 创建节点数\r\n     * @param {object} cDragDt 当前节点拖动的参数\r\n     * @param {number|string} type 节点类型\r\n     */\r\n    _createNode(tbDragDt: any, type: any){\r\n        var $this = this,\r\n            nodeIst = null,\r\n            config = this.config,\r\n            pkgClr = config.pkgClr\r\n        switch(type){\r\n            case 1:\r\n                nodeIst = this.flow.endpoint(tbDragDt.dx, tbDragDt.dy, 10, '开始')\r\n                nodeIst.c.attr('fill', pkgClr.start)\r\n                break;\r\n            case 2:\r\n                nodeIst = this.flow.operation(tbDragDt.dx, tbDragDt.dy, 50, 40, '操作流程')\r\n                nodeIst.c.attr('fill', pkgClr.opera)\r\n                break;  \r\n            case 3:\r\n                nodeIst = this.flow.judge(tbDragDt.dx, tbDragDt.dy, 50, 40, '流程判断')\r\n                nodeIst.c.attr('fill', pkgClr.judge)\r\n                break;\r\n            case 9:\r\n                nodeIst = this.flow.endpoint(tbDragDt.dx, tbDragDt.dy, 10, '结束')\r\n                nodeIst.c.attr('fill', pkgClr.end)\r\n                break;                          \r\n        }\r\n        if(nodeIst){    // 保存节点实例\r\n            var code = this._getOrderCode()\r\n            nodeIst.c.data('code', code)\r\n            this._code2EidDick[code] = nodeIst.c.id\r\n            nodeIst.c.data('type', type)\r\n            this._bindEvent(nodeIst)\r\n            this.nodeQueues.push(nodeIst)\r\n        }\r\n    }\r\n    /**\r\n     * 节点绑定事件\r\n     * @param {NodeBase} nodeIst \r\n     */\r\n    _bindEvent(nodeIst: any){\r\n        if(nodeIst){    // 保存节点实例\r\n            var $this = this,\r\n            config = this.config,\r\n            pkgClr = config.pkgClr\r\n            ;\r\n            // 节点拖动\r\n           (function(){\r\n               var cDragDt = {x: 0, y: 0}\r\n               nodeIst.c.drag(\r\n                   function(dx: number, dy: number){\r\n                       dx += cDragDt.x\r\n                       dy += cDragDt.y\r\n                       nodeIst.move(dx, dy)\r\n                       nodeIst.ToSyncArrow(dx, dy)\r\n                   },\r\n                   function(){\r\n                       var _x, _y\r\n                       if('ellipse' == this.type){\r\n                           _x = this.attr('cx')\r\n                           _y = this.attr('cy')\r\n                       }\r\n                       else if('rect' == this.type){\r\n                           _x = this.attr('x')\r\n                           _y = this.attr('y')\r\n                       }\r\n                       else if('path' == this.type){\r\n                           var _path = this.attr('path')\r\n                           var sP1 = _path[0]\r\n                           _x = sP1[1]\r\n                           _y = sP1[2]\r\n                       }\r\n\r\n                       cDragDt.x = _x\r\n                       cDragDt.y = _y\r\n                       // console.log(cDragDt)\r\n                   },\r\n                   function(){\r\n                       cDragDt = {x:0, y:0}\r\n                   }\r\n               )\r\n               // console.log(nodeIst)\r\n               // console.log(nodeIst.c)\r\n           })()\r\n\r\n           // 节点点击处理\r\n           nodeIst.c.click(function(){\r\n               $this.removeBBox()\r\n               // if(nodeIst.bBox){\r\n               //     nodeIst.bBox.remove()\r\n               // }\r\n               var bt = this.getBBox()\r\n               var dt = 5\r\n               nodeIst.bBox = nodeIst.instance.rect(bt.x-dt, bt.y-dt, bt.width+dt*2, bt.height+dt*2)\r\n               nodeIst.bBox.attr({\r\n                   'stroke': pkgClr.NodeBox\r\n               })\r\n               $this.onNodeClick(nodeIst)\r\n           })\r\n       }\r\n    }\r\n    /**\r\n     * 直线拖动\r\n     * @param {RapaelElement} lineInst \r\n     */\r\n    _lineTragEvent(lineInst: any){\r\n        if(!lineInst || 'object' != typeof lineInst){\r\n            return false\r\n        }\r\n        var $this = this;\r\n        (function(TmpArrIst){\r\n            TmpArrIst.c.click(function(){     \r\n                $this.removeBBox()  // 移除当前的节点的外部边框\r\n                // 选中标识符号\r\n                TmpArrIst.selectEdMk = true   \r\n\r\n                var opt = TmpArrIst.opt \r\n                var color = '#000000'\r\n                var pR = 3      // 半径                        \r\n                // console.log('*', innerTmpArror)\r\n                // console.log(innerTmpArror.c.id, 'click')\r\n                // 起始节点\r\n                var arrowLineP1 = $this.raphael.circle(opt.p1[0], opt.p1[1], pR)\r\n                arrowLineP1.attr('fill', color);                        \r\n\r\n                // 结束节点\r\n                var arrowLineP2 = $this.raphael.circle(opt.p2[0], opt.p2[1], pR)\r\n                arrowLineP2.attr('fill', color)\r\n\r\n                // tsc isEnd 可选参数\r\n                var lineEndPointMoveEvt = function(LIst: any, isEnd?: any){\r\n                    var aCDt = {ax: 0, ay: 0}\r\n                    // console.log(arrowLineP1)\r\n                    LIst.drag(\r\n                        function(ax: number, ay: number){\r\n                            ax += aCDt.ax\r\n                            ay += aCDt.ay\r\n                            var hasIntersectElem = $this.getIntersectElem({x: ax, y:ay})\r\n                            if(hasIntersectElem){   // 碰撞时，使用连接端点\r\n                                $this.removeIntersectMk()\r\n                                hasIntersectElem.c.attr('fill', '#FF0000')                                            \r\n                                hasIntersectElem._IntersectMk = true\r\n                                var CntLinePnt\r\n                                if(isEnd){\r\n                                    CntLinePnt = hasIntersectElem.getEnlnP()\r\n                                }\r\n                                else{\r\n                                    CntLinePnt = hasIntersectElem.getStlnP()\r\n                                }\r\n                                // console.log(CntLinePnt, hasIntersectElem)\r\n                                ax = CntLinePnt.x\r\n                                ay = CntLinePnt.y\r\n                                // 关联\r\n                                var position = isEnd? 'to':'from'\r\n                                $this.removeConLine(TmpArrIst, position)\r\n                                hasIntersectElem.recordLine(position, TmpArrIst)\r\n                                if(!TmpArrIst.position){\r\n                                    TmpArrIst.position = {}\r\n                                }\r\n                                TmpArrIst.position[position] = CntLinePnt.position\r\n                            }\r\n                            //console.log(hasIntersectElem)\r\n                            var mmgntcIst = this    // 磁芯点\r\n                            // var id = this.id\r\n                            if(isEnd){\r\n                                TmpArrIst.updatePath(null, [ax, ay])\r\n                                mmgntcIst.data('type', 'to')\r\n                                // TmpArrIst.position.to = id\r\n                            }\r\n                            else{\r\n                                TmpArrIst.updatePath([ax, ay])\r\n                                mmgntcIst.data('type', 'from')\r\n                                // TmpArrIst.position.from = id\r\n                            }\r\n                            $this.MagneticCore = mmgntcIst  // 保存正在移动的磁芯点\r\n                            this.attr({\r\n                                cx: ax,\r\n                                cy: ay\r\n                            }) \r\n                        },\r\n                        function(){\r\n                            aCDt.ax = this.attr('cx')\r\n                            aCDt.ay = this.attr('cy')\r\n                        },\r\n                        function(){\r\n                            // if(aCDt.ax < 75 || aCDt.ay < 50){\r\n                            //     return null\r\n                            // }\r\n                            // LIst.updatePath([aCDt.ax, aCDt.ay])\r\n                            // arrowLineP1.attr({\r\n                            //     x: aCDt.ax,\r\n                            //     y: aCDt.ay\r\n                            // })\r\n                            $this.MagneticCore = null           // 拖动完成以后\r\n                        }\r\n                    )\r\n                }\r\n\r\n                lineEndPointMoveEvt(arrowLineP1)\r\n                lineEndPointMoveEvt(arrowLineP2, true)\r\n                // 临时数据节点\r\n                $this.tempNodes.push(arrowLineP1, arrowLineP2)\r\n            })\r\n        })(lineInst)\r\n        return true\r\n    }\r\n    /**\r\n     * 文本拖动，独立文本\r\n     * @param {RapaelElement} textElem \r\n     */\r\n    _textBindEvent(textElem: any){\r\n        var $this = this;\r\n        // 拖动\r\n        (function(textIst){\r\n            var _dragDt = {x:0, y:0}\r\n            textIst.drag(\r\n                function(x: number, y: number){\r\n                    x += _dragDt.x\r\n                    y += _dragDt.y\r\n                    textIst.attr({x, y})\r\n                },\r\n                function(){\r\n                    _dragDt.x = textIst.attr('x')\r\n                    _dragDt.y = textIst.attr('y')\r\n                },\r\n                function(){}\r\n            )\r\n        })(textElem);\r\n        // 点击处理\r\n        textElem.click(function(){\r\n            // this.attr('font-size', '100rem')\r\n            // this.attr('font-size', '1.23em')\r\n            // $this._removeTxtSelect()\r\n            $this.removeBBox()\r\n            this.attr(Conf.text.selected)\r\n            this.data('selectMk', true)\r\n        })\r\n    }\r\n    /**\r\n     * 移除文本选中状态\r\n     */\r\n    _removeTxtSelect(){\r\n        var texts = this.textQueues\r\n        for(var i=0; i<texts.length; i++){\r\n            var text = texts[i]\r\n            if(text.data('selectMk')){\r\n                text.attr(Conf.text.defAtrr)\r\n                text.data('selectMk', false)\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 事件处理接口\r\n     * @param {NodeBase} nodeIst \r\n     */\r\n    onNodeClick(nodeIst: any){}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/WorkerEditor.ts","/**\r\n * 2018年1月8日 星期一\r\n * 内部处理类，从 worker.js/flow.js 内部分离\r\n */\r\n\r\n// import {Raphael} from './rSu'\r\n\r\n// 外部对象申明\r\ndeclare var Raphael: any\r\ndeclare var $:any\r\n\r\ninterface numberMap {\r\n    [k: number]: any\r\n}\r\n\r\n\r\n\r\n// 实例索引序列\r\nvar instanceIndex = 0\r\nvar instanceSource: numberMap = {}     // 实列资源队列\r\n\r\n// 内部协助函数(私有)\r\nclass H{\r\n    /**\r\n     * 内部函数生成实例\r\n     * @param {*} config \r\n     */\r\n    static createInstance(config?: any){\r\n        config = 'object' == typeof config? config:{}\r\n        if(!config.dom){\r\n            if(process.env.NODE_ENV !== 'production'){\r\n                console.warn('[Worker] 配置文件无效，缺少 config.dom')\r\n            }\r\n        }\r\n        // 生成 HTML\r\n        if('string' == typeof config.dom){\r\n            config.dom = $(config.dom)\r\n        }\r\n        if(!config.w){\r\n            // config.w = parseInt(width * 1.1)\r\n            config.w = $(window).width() * 1.1\r\n        }\r\n        if(!config.h){\r\n            config.h = $(window).height() * 1.1\r\n        }\r\n        return Raphael(config.dom.get(0), config.w, config.h)\r\n    }\r\n    static onMoveEvt(){}\r\n    static onStartEvt(){}\r\n    static onEndEvt(){}\r\n    /**\r\n     * 内部索引序列\r\n     */\r\n    static getIndex(){\r\n        instanceIndex += 1\r\n        return instanceIndex\r\n    }\r\n    /**\r\n     * 内部资源处理\r\n     * @param {number} index \r\n     * @param {string|null} key \r\n     * @param {*} value \r\n     */\r\n    static src(index: number, key?:any, value?: any){\r\n        if(!instanceSource[index]){\r\n            instanceSource[index] = {}\r\n        }\r\n        var dd = instanceSource[index]\r\n        if('undefined' == typeof key){\r\n            return dd\r\n        }\r\n        if('undefined' == typeof value){\r\n            return dd[key] || null\r\n        }\r\n        dd[key] = value\r\n    }\r\n}\r\n\r\nexport default H\n\n\n// WEBPACK FOOTER //\n// ./src/helper.ts","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 4\n// module chunks = 0","/**\r\n * 2018年1月4日 星期四\r\n * 工作流引擎, 基于 raphaelJs, 只用于绘制容器以及，拖动事件的相关算法\r\n */\r\nimport {Util} from './util'\r\nimport NodeEndpoint from './node/NodeEndpoint'\r\nimport NodeOperation from './node/NodeOperation'\r\nimport NodeJudge from './node/NodeJudge'\r\nimport NodeLine from './node/NodeLine'\r\nimport NodeArrow from './node/NodeArrow'\r\nimport NodeBow from './node/NodeBow'\r\n\r\nclass Flow{\r\n    paper: any\r\n    /**\r\n     * @param {Raphael} paper \r\n     */\r\n    constructor(paper: any){        \r\n        this.paper = paper\r\n    }\r\n    /**\r\n     * 端点(圆别名) , 圆心 和 半径\r\n     * @param {number} cx \r\n     * @param {number} cy \r\n     * @param {number} r \r\n     * @param {string|null} 文本框\r\n     */\r\n    endpoint(cx: number, cy: number, r: number, text: string){\r\n        var nd = new NodeEndpoint(this.paper)\r\n        nd.create({cx, cy, r, text})\r\n        return nd\r\n    }\r\n    /**\r\n     * 判断节点\r\n     */\r\n    judge(cx: number, cy: number, w: number, h: number, text: string){\r\n        var nd = new NodeJudge(this.paper)\r\n        nd.create({cx, cy, w, h, text})\r\n        return nd\r\n    }\r\n    /**\r\n     * 操作节点\r\n     */\r\n    operation(cx:number, cy:number, w:number, h:number, text: string){\r\n        var nd = new NodeOperation(this.paper)\r\n        nd.create({cx, cy, w, h, text})\r\n        return nd\r\n    }\r\n    /**\r\n     * p1 -> p2 的连线\r\n     * @param {*} p1 {x,y} \r\n     * @param {*} p2 \r\n     */\r\n    line(p1: any, p2: any){\r\n        var nd = new NodeLine(this.paper)\r\n        nd.create(p1, p2)\r\n        return nd\r\n    }\r\n    /**\r\n     * p1 -> p2 直角转线算啊分\r\n     * @param {object} opt\r\n     */\r\n    rightAngleLine(opt: any){\r\n        var nd = new NodeLine(this.paper)\r\n        nd.RightAngle(opt)\r\n        return nd\r\n    }\r\n    /**\r\n     * p1 -> p2 的连线\r\n     * @param {*} p1 [x,y]\r\n     * @param {*} p2 \r\n     * @param {number} r\r\n     */\r\n    arrow(p1: any, p2: any, r: number){\r\n        var nd = new NodeArrow(this.paper)\r\n        nd.create(p1, p2, r)\r\n        return nd\r\n    }\r\n    /**\r\n     * 箭头\r\n     * @param {object} opt \r\n     */\r\n    bow(opt: object){\r\n        var nd = new NodeBow(this.paper)\r\n        nd.create(opt)\r\n        return nd\r\n    }\r\n    /**\r\n     * 获取空节点对象\r\n     * @param {string} nType \r\n     */\r\n    getEmptyNode(nType: string){\r\n        var $node = null\r\n        switch(nType){\r\n            case 'endpoint': \r\n                $node = new NodeEndpoint(this.paper)\r\n                break\r\n            case 'judge': \r\n                $node = new NodeJudge(this.paper)\r\n                break\r\n            case 'operation': \r\n                $node = new NodeOperation(this.paper)\r\n                break\r\n            case 'line': \r\n                $node = new NodeLine(this.paper)\r\n                break\r\n            case 'arrow': \r\n                $node = new NodeArrow(this.paper)\r\n                break\r\n        }\r\n        return $node\r\n    }\r\n}\r\n\r\nexport {Flow}\r\nexport {NodeLine}\r\nexport {NodeArrow}\r\nexport {NodeEndpoint}\r\nexport {NodeOperation}\r\nexport {NodeJudge}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/flow.ts","/**\r\n * 2018年1月5日 星期五\r\n * 端点处理\r\n */\r\nimport {Util} from '../util'\r\nimport NodeBase from './NodeBase'\r\n\r\nclass NodeEndpoint extends NodeBase{\r\n    NodeType: any\r\n    opt: any\r\n    c: any\r\n    label: any\r\n    instance: any\r\n    minWidth: any\r\n    [k: string]: any\r\n    /**\r\n     * \r\n     * @param {*} instance Raphael 实例\r\n     */\r\n    constructor(instance: any){\r\n        super()\r\n        this.NodeType = 'endpnt'\r\n        this.instance = instance\r\n        this.opt = {}\r\n    }\r\n    /**\r\n     * @param {object} opt / {cx, cy, r, text}\r\n     */\r\n    create(opt: any){\r\n        // 解析类型\r\n        if('object' != typeof opt){\r\n            var param = arguments\r\n            opt = {\r\n                cx: param[0],\r\n                cy: param[1],\r\n                r: param[2]\r\n            }\r\n            if(param[3]){\r\n                opt.text = param[3]\r\n            }\r\n        }\r\n        opt.h = opt.h? opt.h:opt.r\r\n        this.minWidth = opt.r * 2\r\n        this.opt = opt\r\n        // 容器\r\n        this.c = this.instance.ellipse(opt.cx, opt.cy, opt.r, opt.h)     // 椭圆\r\n        // 标签\r\n        var label\r\n        if(opt.text){\r\n            label = this.instance.text(opt.cx, opt.cy, opt.text)\r\n        }else{\r\n            label = this.instance.text(opt.cx, opt.cy)\r\n        }\r\n        this.label = label\r\n        this.resizeByText()\r\n    }\r\n    /**\r\n     * 根据文本宽度自动适应文本的宽度\r\n     */\r\n    resizeByText(){\r\n        if(this.label){\r\n            var box = this.label.getBBox()\r\n            var width = Math.ceil(box.width)\r\n            var w = this.c.attr('rx')\r\n            if(width < this.minWidth && w<this.minWidth){\r\n                return\r\n            }\r\n            // 保持最小宽度\r\n            if(width < this.minWidth){\r\n                width = this.minWidth\r\n            }else{\r\n                width += 2\r\n            }            \r\n            this.opt.r = width/2\r\n            this.resizeByOpt()\r\n        }     \r\n    }\r\n    /**\r\n     * 根据 opt 值的改变重调整容器形状大小\r\n     */\r\n    resizeByOpt(){\r\n        var opt = this.opt\r\n        this.c.attr({\r\n            cx: opt.cx,\r\n            cy: opt.cy,\r\n            rx: opt.r,\r\n            ry: opt.h\r\n        })\r\n    }\r\n    // 外部移动坐标处理， \r\n    move(x: number, y: number){        \r\n        // 容器移动\r\n        this.c.attr({\r\n            cx: x,\r\n            cy: y\r\n        })\r\n        // 文本联动\r\n        this.label.attr({\r\n            x,y\r\n        })\r\n        // 同步属性\r\n        this.opt.cx = x\r\n        this.opt.cy = y\r\n        /*\r\n        // 直线同步移动\r\n        this.syncLineMove((lnC, type) => {\r\n            if(type == 'from'){\r\n                var $fPath = lnC.attr('path')\r\n                var dP = this.getDp(x, y)\r\n                lnC.attr('path', [\r\n                    ['M', dP.x, dP.y],\r\n                    $fPath[1]\r\n                ])\r\n            }\r\n            else if(type == 'to'){\r\n                var bP = this.getBp(x, y)\r\n                var $tPath = lnC.attr('path')\r\n                lnC.attr('path', [\r\n                    $tPath[0],\r\n                    ['L', bP.x, bP.y]\r\n                ])\r\n            }\r\n        })\r\n        */\r\n    }\r\n    // 直线同步移动\r\n    ToSyncLine(x: number, y: number){\r\n        this.syncLineMove((lnC: any, type: any, $ln:any) => {\r\n            var position = $ln.position\r\n            var methodName      \r\n            if(type == 'from'){\r\n                var $fPath = lnC.attr('path')\r\n                methodName = 'get'+position.from+'p'\r\n                var p1 = this[methodName](x, y)\r\n                $fPath[0] = ['M', p1.x, p1.y],\r\n                lnC.attr('path', $fPath)\r\n            }\r\n            else if(type == 'to'){\r\n                var $tPath = lnC.attr('path')\r\n                methodName = 'get'+position.to+'p'\r\n                var p2 = this[methodName](x, y)\r\n                $tPath[$tPath.length-1] = ['L', p2.x, p2.y];\r\n                lnC.attr('path', $tPath)\r\n            }\r\n        })\r\n    }\r\n    // 箭头同步移动\r\n    ToSyncArrow(x: number, y: number){\r\n        this.syncLineMove((lnC: any, type: string, $ln: any) => {\r\n            var position = $ln.position\r\n            var methodName            \r\n            if(type == 'from'){\r\n                methodName = 'get'+position.from+'p'\r\n                var p1 = this[methodName](x, y)\r\n                $ln.updatePath([p1.x, p1.y])\r\n            }\r\n            else if(type == 'to'){\r\n                methodName = 'get'+position.to+'p'\r\n                var p2 = this[methodName](x, y)\r\n                $ln.updatePath(null, [p2.x, p2.y])\r\n            }\r\n        })\r\n    }\r\n    // 获取连线的起点节点\r\n    getStlnP(position?: string){\r\n        position = position? position: 'D'\r\n        var methodName = 'get' + position + 'p'\r\n        var p = this[methodName]()\r\n        p.position = position\r\n        return p\r\n    }\r\n    // 获取连线的终点节点\r\n    getEnlnP(position?: string){\r\n        position = position? position: 'B'\r\n        var methodName = 'get' + position + 'p'\r\n        var p = this[methodName]()\r\n        p.position = position\r\n        return p\r\n    }\r\n    getAp(x: number, y: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x -= opt.r\r\n        return {x, y}\r\n    }\r\n    getBp(x: number, y: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        y -= opt.r\r\n        return {x, y}\r\n    }\r\n    getCp(x: number, y: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x += opt.r\r\n        return {x, y}\r\n    }\r\n    getDp(x: number, y: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        y += opt.r\r\n        return {x, y}\r\n    }\r\n}\r\n\r\nexport default NodeEndpoint\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeEndpoint.ts","/**\r\n * 2018年1月5日 星期五\r\n * 操作处理节点\r\n */\r\nimport NodeBase from './NodeBase'\r\n\r\n// 工作流数据结构 -------------------------------------------------------------------->\r\n\r\ndeclare namespace  Flow{\r\n    // 工作流-步骤-属性\r\n    interface FlowStepAttr{\r\n        col_list?: string[]\r\n        can_revoke?: number\r\n        auth_list?: any\r\n        filter_by?: any\r\n    }\r\n    // 工作流-步骤-属性\r\n    interface FlowStepStru{\r\n        NodeType?: string\r\n        opt?: rSu.NodeOpt\r\n        c?: any\r\n        label: any\r\n    }\r\n    // 工作流-步骤 数据结构\r\n    interface FlowStepStr{\r\n        code?: string                // 代码\r\n        name?: string                // 名称\r\n        type?: number\r\n        prev?: string\r\n        next?: string\r\n        attr?: FlowStepAttr\r\n        _struct?: FlowStepStru\r\n    }\r\n}\r\n\r\n\r\n\r\n// 工作流数据结构 --------------------------------------------------------------------||\r\n\r\n\r\n\r\n// 图标界面 -------------------------------------------------------------------->\r\n\r\n// 画布\r\ndeclare namespace Dance {\r\n    // 工具栏\r\n    interface Tool{\r\n        containerIst?: any        \r\n        startIst?: any\r\n        startTxtIst?: any\r\n        operaIst?: any\r\n        operaTxtIst?: any\r\n        judgeIst?: any\r\n        judgeTxtIst?: any\r\n        endIst?: any\r\n        endTxtIst?: any\r\n        arrowIst?: any\r\n        arrowTxtIst?: any\r\n        textInst?: any\r\n    }\r\n}\r\n// 界面布局\r\ndeclare namespace rSu{\r\n    // 坐标点\r\n    interface P{\r\n        x: number\r\n        y: number\r\n    }\r\n    // 节点属性\r\n    interface NodeOpt{\r\n        cx?: number \r\n        cy?: number \r\n        w?: number \r\n        h?: number\r\n        text?: string\r\n    }\r\n}\r\n\r\n// 图标界面 --------------------------------------------------------------------||\r\n\r\nclass NodeOperation extends NodeBase{\r\n    NodeType: any\r\n    opt: any\r\n    // c: any\r\n    label: any\r\n    instance: any\r\n    position: any\r\n    bBox: any\r\n    minWidth: any\r\n    [k: string]: any\r\n    /**\r\n     * \r\n     * @param {*} instance Raphael 实例\r\n     */\r\n    constructor(instance: any){\r\n        super()\r\n        this.NodeType = 'opera'\r\n        this.instance = instance\r\n        this.opt = {}       // 配置信息数据\r\n        this.bBox = null    // 边缘盒子数据示例\r\n    }\r\n    /**\r\n     * @param {object} opt / [cx, cy, w, h, text]\r\n     */\r\n    create(opt: rSu.NodeOpt){\r\n        this.opt = opt\r\n        this.minWidth = opt.w       // 最小宽度\r\n        // 容器        \r\n        var ap = this.getAp()\r\n        this.c = this.instance.rect(ap.x, ap.y, opt.w, opt.h)\r\n        // 标签\r\n        var label\r\n        if(opt.text){\r\n            label = this.instance.text(opt.cx, opt.cy, opt.text)\r\n        }else{\r\n            label = this.instance.text(opt.cx, opt.cy)\r\n        }\r\n        this.label = label\r\n        // 自动调整文本宽度\r\n        this.resizeByText()\r\n    }\r\n    /**\r\n     * 根据文本宽度自动适应文本的宽度\r\n     */\r\n    resizeByText(){\r\n        if(this.label){\r\n            //console.log(this.label.getBBox())\r\n            var box = this.label.getBBox()\r\n            var width = Math.ceil(box.width)\r\n            var w = this.c.attr('w')\r\n            if(width < this.minWidth && w<this.minWidth){\r\n                return\r\n            }\r\n            // 保持最小宽度\r\n            if(width < this.minWidth){\r\n                width = this.minWidth\r\n            }else{\r\n                width += 10\r\n            }\r\n            this.opt.w = width\r\n            var ap = this.getAp()\r\n            this.c.attr({\r\n                width: width,\r\n                x: ap.x,\r\n                y: ap.y\r\n            })\r\n        }\r\n    }    \r\n\r\n    // 外部移动坐标处理\r\n    move(x: number, y: number){\r\n        var ctP = this.getCtpByAp(x, y)\r\n        this.c.attr({\r\n            x, y\r\n        })\r\n        this.label.attr(ctP)\r\n        this.opt.cx = x\r\n        this.opt.cy = y\r\n    }\r\n    // 直线同步移动\r\n    ToSyncLine(x: number, y: number){\r\n        var ctP = this.getCtpByAp(x, y)\r\n        // 直线同步移动\r\n        this.syncLineMove((lnC: any, type: any, $ln: any) => {\r\n            var position = $ln.position, methodName\r\n            if(type == 'from'){\r\n                var $fPath = lnC.attr('path')\r\n                methodName = 'get'+position.from+'p'\r\n                var p1 = this[methodName](ctP.x, ctP.y)\r\n                $fPath[0] = ['M', p1.x, p1.y]\r\n                lnC.attr('path', $fPath)\r\n            }\r\n            else if(type == 'to'){\r\n                methodName = 'get'+position.to+'p'\r\n                var p2 = this[methodName](ctP.x, ctP.y)\r\n                var $tPath = lnC.attr('path')\r\n                $tPath[$tPath.length -1] = ['L', p2.x, p2.y]\r\n                lnC.attr('path', $tPath)\r\n            }\r\n        })\r\n    }\r\n    // 箭头同步移动\r\n    ToSyncArrow(x: number, y: number){\r\n        var ctP = this.getCtpByAp(x, y)\r\n        this.syncLineMove((lnC: any, type: any, $ln: any) => {\r\n            var position = $ln.position, methodName\r\n            if(type == 'from'){\r\n                methodName = 'get'+position.from+'p'\r\n                var bP = this[methodName](ctP.x, ctP.y)         \r\n                $ln.updatePath([bP.x, bP.y])\r\n            }\r\n            else if(type == 'to'){\r\n                methodName = 'get'+position.to+'p'\r\n                var dP = this[methodName](ctP.x, ctP.y)\r\n                $ln.updatePath(null, [dP.x, dP.y])\r\n            }\r\n        })\r\n    }\r\n    // // 箭头v2 同步机制 移动\r\n    // ToSyncBow(x, y){\r\n    //     var ctP = this.getCtpByAp(x, y)\r\n    //     this.syncLineMove((lnC, type, $ln) => {\r\n    //         var position = $ln.position, methodName\r\n    //         if(type == 'from'){\r\n    //             methodName = 'get'+position.from+'p'\r\n    //             var bP = this[methodName](ctP.x, ctP.y)         \r\n    //             $ln.updatePath([bP.x, bP.y])\r\n    //         }\r\n    //         else if(type == 'to'){\r\n    //             methodName = 'get'+position.to+'p'\r\n    //             var dP = this[methodName](ctP.x, ctP.y)\r\n    //             $ln.updatePath(null, [dP.x, dP.y])\r\n    //         }\r\n    //     })\r\n    // }\r\n    // 获取连线的起点节点\r\n    getStlnP(position?: string){\r\n        position = position? position: 'Bt'\r\n        var methodName = 'get' + position + 'p'\r\n        var p = this[methodName]()\r\n        p.position = position\r\n        return p\r\n    }\r\n    // 获取连线的终点节点\r\n    getEnlnP(position?: string){\r\n        position = position? position: 'T'\r\n        var methodName = 'get' + position + 'p'\r\n        var p = this[methodName]()\r\n        p.position = position\r\n        return p\r\n    }\r\n    // 根据 A 点获取 中心点\r\n    getCtpByAp(x: number, y: number){\r\n        var opt = this.opt\r\n        x += opt.w/2\r\n        y += opt.h/2\r\n        return {x, y}\r\n    }\r\n    getAp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x -= opt.w/2\r\n        y -= opt.h/2\r\n        return {x, y}\r\n    }\r\n    getBp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x -= opt.w/2\r\n        y += opt.h/2\r\n        return {x, y}\r\n    }\r\n    getCp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x += opt.w/2\r\n        y += opt.h/2\r\n        return {x, y}\r\n    }\r\n    getDp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x -= opt.w/2\r\n        y += opt.h/2\r\n        return {x, y}\r\n    }\r\n    getTp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        y -= opt.h/2\r\n        return {x, y}\r\n    }\r\n    getRp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x += opt.w/2\r\n        return {x, y}\r\n    }\r\n    getBtp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        y += opt.h/2\r\n        return {x, y}\r\n    }\r\n    getLp(x?: number, y?: number){\r\n        var opt = this.opt\r\n        x = x? x: opt.cx\r\n        y = y? y: opt.cy\r\n        x -= opt.w/2\r\n        return {x, y}\r\n    }\r\n}\r\n\r\nexport default NodeOperation\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeOperation.ts","/**\r\n * 2018年1月5日 星期五\r\n * 连接类型： 连线\r\n */\r\nimport {Util} from '../util'\r\nclass NodeLine{\r\n    NodeType: any\r\n    opt: any\r\n    c: any\r\n    label: any\r\n    instance: any\r\n    position: any\r\n    rightAngle: boolean\r\n    /**\r\n     * \r\n     * @param {*} instance Raphael 实例\r\n     */\r\n    constructor(instance: any){\r\n        this.NodeType = 'line'\r\n        this.instance = instance\r\n        this.opt = {}       // 配置信息数据\r\n        this.position = {}      // 连接点\r\n        /*\r\n            {from: A/B/C/D, to: A/B/C/D}\r\n        */\r\n\r\n        this.rightAngle = false // 直线直角连法\r\n    }\r\n    create(p1: any, p2: any){\r\n        this.opt = {\r\n            p1, p2\r\n        }\r\n        this.c = this.instance.path(\r\n            'M' + p1[0] + ',' + p1[1] + \r\n            'L' + p2[0] + ',' + p2[1]\r\n        )\r\n    }\r\n    /**\r\n     * 直角连接法\r\n     * @param {object} opt {p1{x,y}, p2, d}\r\n     */\r\n    RightAngle(opt: any){\r\n        this.opt = opt\r\n        this.rightAngle = true\r\n        var p1 = opt.p1, \r\n            p2 = opt.p2,\r\n            d0 = 20\r\n        if(opt.d){\r\n            d0 = opt.d\r\n        }\r\n        var middlePathStr = ''\r\n        if(p1.x != p2.x && p1.y != p2.y){\r\n            var d1 = p2.x - p1.x\r\n            middlePathStr = \r\n                'L' + (p1.x+d1 + d0*(d1>0? 1:-1)) + ',' + p1.y + \r\n                'L' + (p1.x+d1 + d0*(d1>0? 1:-1)) + ',' + p2.y + \r\n                ''\r\n        }\r\n\r\n        this.c = this.instance.path(\r\n            'M' + p1.x + ',' + p1.y + \r\n            middlePathStr + \r\n            'L' + p2.x + ',' + p2.y\r\n        )\r\n    }\r\n\r\n    /**\r\n     * 直接通过坐标点生成直线\r\n     * @param {object} point \r\n     */\r\n    createByPoint(point: any){\r\n        this.opt = point\r\n        var pathStr = ''\r\n        Util.each(this.opt.points, (index:any, value: any) => {\r\n            if(value){\r\n                pathStr += (pathStr? 'L':'M') + value.x + ',' + value.y\r\n            }\r\n        })\r\n        this.c = this.instance.path(pathStr)\r\n    }\r\n}\r\n\r\nexport default NodeLine\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeLine.ts","/**\r\n * 2018年1月4日 星期四\r\n * 工具库\r\n */\r\n// 什么jQuery/RaphaelJs\r\ndeclare var $: any;\r\n// 抽象类型\r\ninterface AbstMap {\r\n    [k: number]: any,\r\n    [k: string]: any\r\n}\r\n\r\n\r\nclass Util{\r\n    /**\r\n     * 对象复制\r\n     * @param {object} t1 \r\n     */\r\n    static clone(t1: object){\r\n        t1 = 'object' == typeof t1? t1:{}\r\n        var obj = {}\r\n        return $.extend(true, obj, t1)\r\n    }\r\n    /**\r\n     * 数据合并相同的元素\r\n     * @param {*} array \r\n     */\r\n    static ArrayMergeSameValue(array: any[]){\r\n        if('object' == typeof array && array.length && array.length > 1){\r\n            var valueMap: AbstMap = {}\r\n            var newArray = []\r\n            for(var i=0; i<array.length; i++){\r\n                if(valueMap[array[i]]){\r\n                    continue\r\n                }\r\n                newArray.push(array[i])\r\n                valueMap[array[i]] = true\r\n            }\r\n            array = newArray\r\n        }\r\n        return array\r\n    }\r\n    /**\r\n     * @param {array|object} obj \r\n     * @param {function} callback (k, v)\r\n     */\r\n    static each(obj: any, callback: any){\r\n        if('object' == typeof obj){\r\n            if($.isArray(obj)){\r\n                for(var i=0; i<obj.length; i++){\r\n                    if(false === callback(i, obj[i])){\r\n                        break\r\n                    }\r\n                }\r\n            }else{\r\n                for(var k in obj){\r\n                    if(false === callback(k, obj[k])){\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n        }        \r\n    }\r\n}\r\n\r\nexport {Util}\n\n\n// WEBPACK FOOTER //\n// ./src/util.ts","/**\r\n * 2018年1月6日 星期六\r\n * 连接类型： 箭头\r\n */\r\n// 工作流数据结构 -------------------------------------------------------------------->\r\n\r\ndeclare namespace  Flow{\r\n    // 工作流-步骤-属性\r\n    interface FlowStepAttr{\r\n        col_list?: string[]\r\n        can_revoke?: number\r\n        auth_list?: any\r\n        filter_by?: any\r\n    }\r\n    // 工作流-步骤-属性\r\n    interface FlowStepStru{\r\n        NodeType?: string\r\n        opt?: rSu.NodeOpt\r\n        c?: any\r\n        label: any\r\n    }\r\n    // 工作流-步骤 数据结构\r\n    interface FlowStepStr{\r\n        code?: string                // 代码\r\n        name?: string                // 名称\r\n        type?: number\r\n        prev?: string\r\n        next?: string\r\n        attr?: FlowStepAttr\r\n        _struct?: FlowStepStru\r\n    }\r\n}\r\n\r\n\r\n\r\n// 工作流数据结构 --------------------------------------------------------------------||\r\n\r\n\r\n\r\n// 图标界面 -------------------------------------------------------------------->\r\n\r\n// 画布\r\ndeclare namespace Dance {\r\n    // 工具栏\r\n    interface Tool{\r\n        containerIst?: any        \r\n        startIst?: any\r\n        startTxtIst?: any\r\n        operaIst?: any\r\n        operaTxtIst?: any\r\n        judgeIst?: any\r\n        judgeTxtIst?: any\r\n        endIst?: any\r\n        endTxtIst?: any\r\n        arrowIst?: any\r\n        arrowTxtIst?: any\r\n        textInst?: any\r\n    }\r\n}\r\n// 界面布局\r\ndeclare namespace rSu{\r\n    // 坐标点\r\n    interface P{\r\n        x: number\r\n        y: number\r\n    }\r\n    // 节点属性\r\n    interface NodeOpt{\r\n        cx?: number \r\n        cy?: number \r\n        w?: number \r\n        h?: number\r\n        text?: string\r\n    }\r\n}\r\n\r\n// 图标界面 --------------------------------------------------------------------||\r\n\r\ninterface NodeArrowType {\r\n    p1?: rSu.P\r\n    p2?: rSu.P\r\n    r?: number\r\n}\r\nclass NodeArrow{\r\n    NodeType: string\r\n    instance: any\r\n    opt: object\r\n    position: object\r\n    c: any\r\n    /**\r\n     * \r\n     * @param {*} instance Raphael 实例\r\n     */\r\n    constructor(instance: any){\r\n        this.NodeType = 'arrow'\r\n        this.instance = instance\r\n        this.opt = {}           // 配置信息数据\r\n        this.position = {}      // 连接点\r\n        /*\r\n            {from: A/B/C/D, to: A/B/C/D}\r\n        */\r\n    }\r\n    /**\r\n     * 画箭头，p1 开始位置,p2 结束位置, r前头的边长\r\n     * @param {*} p1 [x,y]\r\n     * @param {*} p2 [x,y]\r\n     * @param {*} r  \r\n     */\r\n    create(p1: any, p2: any, r: number){\r\n        this.opt = {\r\n            p1, p2, r\r\n        }\r\n        // 非同 x 线\r\n        var points = this.getPoints()\r\n        this.c = this.instance.path(\r\n            'M' + p1[0] + ',' + p1[1] + \r\n            'L' + p2[0] + ',' + p2[1] + \r\n            'L' + points.cP.x + ',' + points.cP.y + \r\n            'L' + points.dP.x + ',' + points.dP.y + \r\n            'L' + p2[0] + ',' + p2[1]\r\n        )\r\n    }\r\n    // 获取点序列\r\n    getPoints(p1?: any, p2?:any, r?:any){\r\n        var opt: NodeArrowType = this.opt\r\n        if(!p1){\r\n            p1 = opt.p1\r\n        }\r\n        if(!p2){\r\n            p2 = opt.p2\r\n        }\r\n        if(!r){\r\n            r = opt.r\r\n        }\r\n        var atan = Math.atan2(p1[1] - p2[1], p2[0] - p1[0]) * (180 / Math.PI);\r\n\r\n        var centerX = p2[0] - r * Math.cos(atan * (Math.PI / 180));\r\n        var centerY = p2[1] + r * Math.sin(atan * (Math.PI / 180));\r\n\r\n        var x2 = centerX + r * Math.cos((atan + 120) * (Math.PI / 180));\r\n        var y2 = centerY - r * Math.sin((atan + 120) * (Math.PI / 180));\r\n\r\n        var x3 = centerX + r * Math.cos((atan + 240) * (Math.PI / 180));\r\n        var y3 = centerY - r * Math.sin((atan + 240) * (Math.PI / 180));\r\n        return {\r\n            cP: {x:x2, y:y2},\r\n            dP: {x:x3, y:y3}\r\n        }\r\n    }\r\n    /**\r\n     * 更细记录表\r\n     * @param {*} p1 \r\n     * @param {*} p2 \r\n     * @param {*} r \r\n     */\r\n    updatePath(p1: any, p2:any, r:number){\r\n        var opt: NodeArrowType = this.opt\r\n        if(!p1){\r\n            p1 = opt.p1\r\n        }\r\n        if(!p2){\r\n            p2 = opt.p2\r\n        }\r\n        if(!r){\r\n            r = opt.r\r\n        }\r\n        var points = this.getPoints(p1, p2, r)\r\n        this.c.attr('path', [\r\n            ['M', p1[0], p1[1]],\r\n            ['L', p2[0], p2[1]],\r\n            ['L', points.cP.x, points.cP.y],\r\n            ['L', points.dP.x,  points.dP.y],\r\n            ['L', p2[0], p2[1]]\r\n        ])\r\n        // 同步更新记录\r\n        this.opt = {\r\n            p1, p2, r\r\n        }\r\n    }\r\n}\r\n\r\nexport default NodeArrow\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeArrow.ts","/**\r\n * 2018年1月23日 星期二\r\n * 弓形箭头\r\n */\r\n/**\r\n * \r\n * \r\n * @class NodeBow\r\n/**\r\n * \r\n * \r\n * @class NodeBow\r\n */\r\nclass NodeBow{\r\n    NodeType: any\r\n    opt: any\r\n    c: any\r\n    label: any\r\n    instance: any\r\n    position: any\r\n    arrow: any\r\n    /**\r\n     * \r\n     * @param {*} instance Raphael 实例\r\n     */\r\n    constructor(instance: any){\r\n        this.NodeType = 'bow'\r\n        this.instance = instance\r\n        this.opt = {}           // 配置信息数据\r\n        this.position = {}      // 连接点\r\n        /*\r\n            {from: A/B/C/D, to: A/B/C/D}\r\n            this.arrow = 箭头实例\r\n            this.body = 箭体实例\r\n        */\r\n    }\r\n    /**\r\n     * 弓形箭头创建\r\n     * @param {*} opt   {r: 直径, queue:[点队列]}\r\n     */\r\n    create(opt: any){\r\n        this.opt = opt\r\n        this.queueCheck()\r\n        this.bodySharp()\r\n        this.arrowSharp()\r\n    }\r\n    /**\r\n     * 箭头\r\n     */\r\n    arrowSharp(){\r\n        var opt = this.opt\r\n        var pointQue = opt.queue\r\n        var r = opt.r? opt.r: 5\r\n        var len = pointQue.length\r\n        var p2 = pointQue[len - 1]\r\n        var p1 = pointQue[len - 2]\r\n\r\n        // 系统\r\n        var atan = Math.atan2(p1.y - p2.y, p2.x - p1.x) * (180 / Math.PI);\r\n        var centerX = p2.x - r * Math.cos(atan * (Math.PI / 180));\r\n        var centerY = p2.y + r * Math.sin(atan * (Math.PI / 180));\r\n\r\n        var x2 = centerX + r * Math.cos((atan + 120) * (Math.PI / 180));\r\n        var y2 = centerY - r * Math.sin((atan + 120) * (Math.PI / 180));\r\n\r\n        var x3 = centerX + r * Math.cos((atan + 240) * (Math.PI / 180));\r\n        var y3 = centerY - r * Math.sin((atan + 240) * (Math.PI / 180));\r\n\r\n        if(!this.arrow){\r\n            this.arrow = this.instance.path(\r\n                'M' + p2.x + ',' + p2.y +\r\n                // 箭头体\r\n                'L' + x2 + ',' + y2 + \r\n                'L' + x3 + ',' + y3 + \r\n                'L' + p2.x + ',' + p2.y\r\n            )\r\n        }\r\n        else{\r\n            this.arrow.attr('path', [\r\n                ['M', p2.x, p2.y],\r\n                // 箭头体\r\n                ['L', x2, y2],\r\n                ['L', x3, y3],\r\n                ['L', p2.x, p2.y]\r\n            ])\r\n        }\r\n    }\r\n    /**\r\n     * 键体\r\n     */\r\n    bodySharp(){\r\n        var queue = this.opt.queue\r\n        var pathStr = ''\r\n        var pathArr = []\r\n        var hasInstance = false,\r\n            isM = true\r\n        hasInstance = this.c? true: false\r\n\r\n        for(var i=0; i<queue.length; i++){\r\n            var que = queue[i]\r\n            if(hasInstance){\r\n                if(isM){\r\n                    if(pathArr.length > 0){\r\n                        isM = false\r\n                    }\r\n                }\r\n                pathArr.push([isM? 'M':'L', que.x, que.y])\r\n            }else{\r\n                pathStr += (pathStr? 'L':'M') + ',' + que.x + ',' + que.y\r\n            }\r\n        }\r\n        if(hasInstance){\r\n            this.c.attr('path', pathArr)\r\n        }\r\n        else{            \r\n            this.c = this.instance.path(pathStr)\r\n        }\r\n    }\r\n    /**\r\n     * 点队列检测\r\n     */\r\n    queueCheck(){\r\n        var queue = this.opt.queue\r\n        // 双点检测  “ 7 形 ”\r\n        if(queue.length == 2){\r\n            var middlePoint = []\r\n            var p1 = queue[0],\r\n                p2 = queue[1]\r\n            if(p1.x < p2.x){\r\n                middlePoint.push({x:p2.x, y:p1.y})\r\n            }\r\n            else if(p1.x > p2.x){\r\n                // 20 @issue 需要可配置接口\r\n                middlePoint.push({x:p1.x, y:p2.y-20})\r\n                middlePoint.push({x:p2.x, y:p2.y-20})\r\n            }\r\n            this.opt.queue = [p1].concat(middlePoint, p2)\r\n        }\r\n    }\r\n    /**\r\n     * 更细记录表\r\n     * @param {*} p1 \r\n     * @param {*} p2 \r\n     * @param {*} r \r\n     */\r\n    updatePath(p1: any, p2: any, r?: number){\r\n        var opt = this.opt\r\n        if(p1){\r\n            opt.queue[0] = {x:p1[0], y:p1[1]}\r\n        }\r\n        if(p2){\r\n            var len = opt.queue.length - 1\r\n            opt.queue[len] = {x:p2[0], y:p2[1]}\r\n        }\r\n\r\n        // 自适应的星形状变化\r\n        this.queueCheck()\r\n        this.bodySharp()\r\n        this.arrowSharp()\r\n    }\r\n}\r\n\r\nexport default NodeBow\n\n\n// WEBPACK FOOTER //\n// ./src/node/NodeBow.ts","\n    export interface VersionStruct {\n        version?: string\n        release?: string\n        author?: string\n    }\n    export const LibVersion: VersionStruct = {\"version\":\"2.0.1\",\"release\":\"20180323\",\"author\":\"Joshua Conero\"}\n    \n\n\n// WEBPACK FOOTER //\n// ./version.ts"],"sourceRoot":""}