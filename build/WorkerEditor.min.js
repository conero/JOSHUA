!function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,o){"use strict";var n=function(){function t(t,e){this.tRElem={},this._dataQueueDick={},this.isSelEd=!1,this.paper=t,this.fromLine=[],this.toLine=[],this.NodeType=null,e&&(this.opt=e),this._onInit()}return t.prototype.data=function(t,e){return void 0===e?this._dataQueueDick[t]:(this._dataQueueDick[t]=e,this._code||"_code"!=t||(this._code=e),this)},Object.defineProperty(t.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0}),t.prototype.creator=function(t){return this._whenCreatorEvt(),this},t.prototype._ps2Path=function(t,e){for(var o="",n=0;n<t.length;n++)o+=(o?"L":"M")+t[n].x+","+t[n].y;return e&&(o+="Z"),o},t.prototype._ps2PathAttr=function(t,e){for(var o=[],n=0;n<t.length;n++){var r=["L"];0==o.length&&(r[0]="M"),r.push(t[n].x,t[n].y),o.push(r)}return e&&o.push(["Z"]),o},t.prototype._whenCreatorEvt=function(){},t.prototype._onInit=function(){},t.prototype.onDrag=function(){},t.prototype.recordLine=function(t,e){"from"==t?this.fromLine.push(e):"to"==t&&this.toLine.push(e)},t.prototype.syncLineMove=function(t){"function"!=typeof t&&(t=function(t,e){});for(var e=this.fromLine,o=this.toLine,n=0;n<e.length;n++){var r=e[n].c;r.attr("path");t(r,"from",e[n])}for(var i=0;i<o.length;i++){t(o[i].c,"to",o[i])}},t.prototype.toJson=function(){var t={NodeType:this.NodeType,opt:this.opt,c:{attr:this.c.attr()}};return this.label&&(t.label={attr:this.label.attr()}),t},t.prototype.getPLen=function(t,e){return Math.pow(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2),.5)},t.prototype._updAttr=function(t){for(var e in t)void 0!==this.opt[e]&&(this.opt[e]=t[e]);return this},t.prototype._getTextPnt=function(){var t=this.opt;return{x:t.cx+1,y:t.cy+1}},t.prototype.delete=function(){this.c.remove(),this.label&&this.label.remove(),this.inlineEle&&this.inlineEle.remove(),this.inlinesEle&&this.inlinesEle.forEach(function(t){t.remove()}),this.removeBox()},t.prototype.hide=function(){return this.c&&this.c.hide(),this.label&&this.label.hide(),this.inlinesEle&&this.inlinesEle.forEach(function(t){t.hide()}),this.inlineEle&&this.inlineEle.hide(),this},t.prototype.show=function(){return this.c&&this.c.show(),this.label&&this.label.show(),this.inlinesEle&&this.inlinesEle.forEach(function(t){t.show()}),this.inlineEle&&this.inlineEle.show(),this},t.prototype.moveable=function(){var t=this;this.c.undrag();var e={cx:0,cy:0};return this.c.drag(function(o,n){o+=e.cx,n+=e.cy,t.updAttr({cx:o,cy:n}),t.select()},function(){var o=t.opt,n=o.cx,r=o.cy;e={cx:n,cy:r}}),t},t.prototype.updAttr=function(t){return this},t.prototype.onCreateBoxPnt=function(t){},t.prototype.select=function(){var t=this.c.getBBox(),e=t.x,o=t.y,n=t.width,r=t.height,i=this.paper;this.removeBox(),this.isSelEd=!0,e-=4,o-=4,n+=8,r+=8,this.tRElem.box=i.rect(e,o,n,r).attr({stroke:"#0033FF","stroke-width":"0.8"});var s=e+n/2,h=e+n,a=o+r/2,c=o+r,p={a:{x:e,y:o},b:{x:s,y:o},c:{x:h,y:o},d:{x:h,y:a},e:{x:h,y:c},f:{x:s,y:c},g:{x:e,y:c},h:{x:e,y:a}};for(var u in p){var l=p[u],f=l.x,y=l.y;this.tRElem["__p"+u]=i.circle(f,y,2).attr("fill","#000000"),this.onCreateBoxPnt(this.tRElem["__p"+u])}return this},t.prototype.removeBox=function(){this.tRElem||(this.tRElem={}),this.tRElem.box&&(this.tRElem.box.remove(),delete this.tRElem.box);for(var t in this.tRElem)t.indexOf("__p")>-1&&(this.tRElem[t].remove(),delete this.tRElem[t]);return this},t.prototype.zoomOut=function(t){t=t||.2;this.c;var e=this.opt;return e.w=e.w*(1+t),e.h=e.h*(1+t),this.updAttr({w:e.w,h:e.h}),this.select(),this},t.prototype.zoomIn=function(t){t=t||.2;this.c;var e=this.opt;return e.w=e.w*(1-t),e.h=e.h*(1-t),this.updAttr({w:e.w,h:e.h}),this.select(),this},t.prototype.move=function(t,e){e=e||.05;var o,n=this.opt;switch(t=t?t.toUpperCase():t){case"T":o={cy:n.cy*(1-e)};break;case"B":o={cy:n.cy*(1+e)};break;case"L":o={cx:n.cx*(1-e)};break;case"R":o={cx:n.cx*(1+e)}}return o&&(this.updAttr(o),this.select()),this},t.prototype.move2T=function(t){return this.move("T",t),this},t.prototype.move2B=function(t){return this.move("B",t),this},t.prototype.move2L=function(t){return this.move("L",t),this},t.prototype.move2R=function(t){return this.move("R",t),this},t}();e.a=n},function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n=function(){function t(){}return t.clone=function(t){t="object"==typeof t?t:{};return $.extend(!0,{},t)},t.ArrayMergeSameValue=function(t){if("object"==typeof t&&t.length&&t.length>1){for(var e={},o=[],n=0;n<t.length;n++)e[t[n]]||(o.push(t[n]),e[t[n]]=!0);t=o}return t},t.each=function(t,e){if("object"==typeof t)if($.isArray(t))for(var o=0;o<t.length&&!1!==e(o,t[o]);o++);else for(var n in t)if(!1===e(n,t[n]))break},t.ucFirst=function(t,e){e=e||"_";var o=t.split(e);return o.forEach(function(t,e){o[e]=t.substr(0,1).toUpperCase()+t.substr(1)}),o.join("")},t.isArray=function(t){return"object"==typeof t&&t instanceof Array},t}()},function(t,e,o){"use strict";o.d(e,"a",function(){return d});var n=o(1),r=o(7),i=o(8),s=o(9),h=o(10),a=o(11),c=o(12),p=o(13),u=o(14),l=o(15),f=o(16),y=o(17),d=function(){function t(t){this.paper=t}return t.prototype.make=function(t,e){var o,d=n.a.ucFirst(t),v=this.paper;switch(d){case"Begin":o=new r.a(v,e);break;case"Task":o=new i.a(v,e);break;case"Audit":o=new s.a(v,e);break;case"Sign":o=new h.a(v,e);break;case"Cond":o=new a.a(v,e);break;case"SubFlow":o=new c.a(v,e);break;case"Parallel":o=new p.a(v,e);break;case"Merge":o=new u.a(v,e);break;case"End":o=new l.a(v,e);break;case"Ln":o=new f.a(v,e);break;case"LnPoly":o=new y.a(v,e)}return o},t}()},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(4),r=o(5),i=o(1),s=o(6),h=o(2),a=o(19),c=function(){function t(t){this.nodeDick={},this.config=t,this.paper=n.a.createInstance(t),this.ndMer=new h.a(this.paper),this._configMergeToDefule(),this._rIdx=0,this._code2EidDick={},this._LineDragingP=null,this.lineQueues=[],this.textQueues=[],this.tempNodes=[],this.MagneticCore=null,this._cerateToolBar(),this.config.stepCfg}return t.prototype._configMergeToDefule=function(){var t=this.config.pkgClr||{};t.start=t.start||"rgb(181, 216, 126)",t.opera=t.opera||"rgb(224, 223, 226)",t.judge=t.judge||"rgb(49, 174, 196)",t.end=t.end||"rgb(34, 185, 41)",t.arrow=t.arrow||"rgb(3, 84, 41)",t.NodeBox=t.NodeBox||"rgb(15, 13, 105)",this.config.pkgClr=t,this.config.prefCode=this.config.prefCode||"A",this.config.listener=this.config.listener||{},this.config.noToolBar=this.config.noToolBar||!1},t.prototype._cerateToolBar=function(){var t=this;if(this.config.noToolBar)return null;this.toolbarCtrl=new s.a(this.paper,this.config);var e=this,o=e.toolbarCtrl,n=o.tBodyNds,r=o.cBodyNds;i.a.each(n,function(t,o){var n,r={x:0,y:0};o.c.drag(function(t,e){t+=r.x,e+=r.y,n&&n.updAttr({cx:t,cy:e})},function(){var i=o.opt,s=i.cx,h=i.cy;r.x=s,r.y=h;var c={cx:s+=25,cy:h,w:50,h:40};a.a[t]&&(c.text=a.a[t].text),n=e.ndMer.make(t,c).creator().moveable(),e._nodeBindEvt(n);var p=e._getOrderCode();n.data("_code",p),e.nodeDick[p]=n},function(){console.log(this,"测试：end")})});i.a.each(r,function(o,n){n.c.click(function(){var o=n.isSelEd;i.a.each(r,function(t,e){e.isSelEd=!1}),t.lineCnMode={isSelEd:!1,type:null},o||(n.isSelEd=!0,e.lineCnMode={isSelEd:!0,type:n.NodeType})})})},t.prototype._nodeBindEvt=function(t){var e=this,o=function(t){t.c.click(function(){e.removeAllSeled(),t.select()}),t.onCreateBoxPnt=function(t){}};if(t)o(t);else for(var n in this.nodeDick)o(this.nodeDick[n])},t.prototype.removeAllSeled=function(){for(var t in this.nodeDick){var e=this.nodeDick[t];e.isSelEd&&(e.removeBox(),e.isSelEd=!1)}},t.prototype.allSelect=function(){for(var t in this.nodeDick){this.nodeDick[t].select()}},t.prototype._getOrderCode=function(){this._rIdx+=1;var t=this.config.prefCode+this._rIdx;return this._code2EidDick[t]&&(t=this._getOrderCode()),t},t.prototype.removeTempNodes=function(){for(var t=this.tempNodes,e=0;e<t.length;e++){t[e].remove()}},t.prototype.remove=function(t){var e=this,o=function(o){o&&(t=o.code,o.delete(),delete e.nodeDick[t])};return o(t?this.nodeDick[t]:this.getSelected()),!1},t.prototype.clone=function(t){var e,o;if(e=t&&"string"==typeof t?this.nodeDick[t]:t&&"object"==typeof t?t:this.getSelected()){var n=$.extend(!0,{},e.opt);n.cx+=.2*n.w,n.cy+=.2*n.h,o=this.ndMer.make(e.NodeType,n).creator().moveable(),this._nodeBindEvt(o);var r=this._getOrderCode();o.data("_code",r),this.nodeDick[r]=o}return o},t.prototype.removeIntersectMk=function(){for(var t=this.nodeQueues,e=null,o=0;o<t.length;o++){var n=t[o];if(n._IntersectMk){n._IntersectMk=!1;var r=n.NodeType,i=this.config.pkgClr;i[r]?n.c.attr("fill",i[r]):1==(r=n.c.data("type"))?n.c.attr("fill",i.start):9==r&&n.c.attr("fill",i.end),e=n}}return e},t.prototype.removeConLine=function(t,e){if(t&&e)for(var o=this.nodeQueues,n=t.c.id,r=0;r<o.length;r++){var i=o[r],s=e+"Line";if(i[s]&&i[s].length){for(var h=i[s],a=[],c=0;c<h.length;c++){var p=h[c];n!=p.c.id&&a.push(p)}i[s]=a}}return!1},t.prototype.removeAll=function(){return this.removeAllText(),this.removeAllLine(),this.removeAllNode(),this},t.prototype.removeAllNode=function(){for(var t=this.nodeQueues,e=0;e<t.length;e++){var o=t[e];o.label&&o.label.remove(),o.c.remove()}return this.nodeQueues=[],this},t.prototype.removeAllLine=function(){for(var t=this.lineQueues,e=0;e<t.length;e++){t[e].c.remove()}return this.lineQueues=[],this},t.prototype.removeAllText=function(){for(var t=this.textQueues,e=0;e<t.length;e++){t[e].remove()}return this.textQueues=[],this},t.prototype.getNodeByCode=function(t){for(var e=null,o=this.nodeQueues,n=0;n<o.length;n++){var r=o[n];if(r.c.data("code")==t){e=r;break}}return e},t.prototype.getNodeByEid=function(t){for(var e=null,o=this.nodeQueues,n=0;n<o.length;n++){var r=o[n];if(r.c.id==t){e=r;break}}return e},t.prototype.code2Id=function(t,e){if(t&&!e)return this._code2EidDick[t]||null;if(e&&!t){var o=this._code2EidDick;for(var n in o)if(e==o[n])return n;return null}return e&&t?(this._code2EidDick[t]=e,this):void 0},t.prototype.setOption=function(t,e){if(t){"object"!=typeof t&&(t={text:t}),e||(e=this.getSelected());var o="object"==typeof e?e:this.getNodeByCode(e);o&&t.text&&o.label&&(o.label.attr("text",t.text),o.opt=o.opt||{},o.opt.text=t.text,"function"==typeof o.resizeByText&&o.resizeByText())}return!1},t.prototype.cloneNode=function(t){if(t||(t=this.getSelected()),t){var e="object"==typeof t?t:this.paper.getById(t);if("object"==typeof e){e.id;return e.c.clone(),e.label.clone(),!0}}return!1},t.prototype.getSelected=function(){this.nodeQueues;var t=null;for(var e in this.nodeDick)if(this.nodeDick[e].isSelEd){t=this.nodeDick[e];break}if(!t)for(var o=this.lineQueues,n=0;n<o.length;n++){var r=o[n];r.selectEdMk&&(t=r)}return t},t.prototype.getLastElem=function(){var t=null,e=this.nodeQueues;return e.length>0&&(t=e[e.length-1]),t},t.prototype.getFlowStep=function(){for(var t=[],e=this.nodeQueues,o=0;o<e.length;o++){var n=e[o],r=this.getFlowJson(n);t.push(r)}return t},t.prototype.getFlowJson=function(t){t||(t=this.getSelected());var e={};if(t){var o=t.label||null,n=t.c;e={name:o?o.attr("text"):"",code:n.data("code"),type:n.data("type"),_struct:t.toJson()};for(var r=t.toLine,i=[],s=0;s<r.length;s++){(p=this.getLineCntCode("from",r[s].c.id,t))&&i.push(p)}e.prev=i.length>0?i.join(","):"";for(var h=t.fromLine,a=[],c=0;c<h.length;c++){var p;(p=this.getLineCntCode("to",h[c].c.id,t))&&a.push(p)}e.next=a.length>0?a.join(","):""}else e=null;return e},t.prototype.getLineCntCode=function(t,e,o){if(t&&e){var n=this.nodeQueues,r=null;o&&(r="string"==typeof o?o:o.c.data("code"));for(var i=t+"Line",s=0;s<n.length;s++){var h=n[s],a=h.c.data("code");if(r!=a)for(var c=h[i],p=0;p<c.length;p++){if(e==c[p].c.id)return a}}}return null},t.prototype.onNodeClick=function(t){},t.version=r.a,t}();e.default=c},function(t,e,o){"use strict";var n=0,r={},i=function(){function t(){}return t.createInstance=function(t){return(t="object"==typeof t?t:{}).dom,"string"==typeof t.dom&&(t.dom=$(t.dom)),t.w||(t.w=1.1*$(window).width()),t.h||(t.h=1.1*$(window).height()),Raphael(t.dom.get(0),t.w,t.h)},t.onMoveEvt=function(){},t.onStartEvt=function(){},t.onEndEvt=function(){},t.getIndex=function(){return n+=1},t.src=function(t,e,o){r[t]||(r[t]={});var n=r[t];return void 0===e?n:void 0===o?n[e]||null:void(n[e]=o)},t}();e.a=i},function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n={version:"2.0.8",release:"20180331",author:"Joshua Conero"}},function(t,e,o){"use strict";var n=o(2),r=o(18),i=o(1),s=function(){function t(t,e){this._tools=[],this.rData={cp:{x:5,y:5},th0:23,th1:23,th2:23,nh:0,ch:0,cw:75},this.paper=t,this.ndMer=new n.a(this.paper),this.option=e,this.config=e.toolBar||{},this.config.aUpSrc=r.a.value(this.config,"aUpSrc","arrow_up.png"),this.config.aDownSrc=r.a.value(this.config,"aDownSrc","arrow_down.png"),this._headBar(),this._nodeBar(),this._connBar()}return t.prototype._headBar=function(){var t,e=this,o=this.rData,n=o.cp,i=o.cw,s=o.th0,h=n.x,a=n.y,c=this.paper;this.headElems={},t=c.rect(h,a,i,s).attr("fill","#ffffff").click(function(){"H"!=this.data("toggle")?(this.data("toggle","H"),e.toggle("H")):(this.data("toggle","S"),e.toggle("S"))}),this.headElems.con=t,t=c.text(h+i/2,a+10,r.a.value(this.config,"title","工具栏")),this.headElems.title=t},t.prototype._nodeBar=function(){var t,e=this,o=this.rData,n=o.cp,r=o.cw,i=o.th1,s=o.nh,h=n.x,a=n.y,c=this.paper,p=this.ndMer,u=this.config,l={};this.nodeElems={},a+=i,this.nodeElems.title=c.rect(h,a,r,23).attr("fill","#ffffff").click(function(){var t=this.data("toggle"),o=e.nodeElems.icon;"H"!=t?(this.data("toggle","H"),o&&o.attr("src",u.aDownSrc),e.tToggle("H")):(this.data("toggle","S"),o&&o.attr("src",u.aUpSrc),e.tToggle("S"))}),this.nodeElems.icon=c.image(u.aUpSrc,h+.7*r,a+1,20,20),s=a,a+=23,this.nodeElems.tBody=c.rect(h,a,r,250).attr("fill","#ffffff"),h+=20,a+=10,t=p.make("begin",{cx:h,cy:a,w:16,h:12}).creator(),l.begin=t,a+=20,t=p.make("task",{cx:h,cy:a,w:16,h:12}).creator(),l.task=t,a+=20,t=p.make("audit",{cx:h,cy:a,w:16,h:12}).creator(),l.audit=t,a+=20,t=p.make("sign",{cx:h,cy:a,w:16,h:12}).creator(),l.sign=t,a+=20,t=p.make("cond",{cx:h,cy:a,w:16,h:12}).creator(),l.cond=t,a+=20,t=p.make("subFlow",{cx:h,cy:a,w:16,h:12}).creator(),l.subFlow=t,a+=30,t=p.make("parallel",{cx:h,cy:a,w:16,h:12}).creator(),l.parallel=t,a+=20,t=p.make("merge",{cx:h,cy:a,w:16,h:12}).creator(),l.merge=t,a+=20,t=p.make("end",{cx:h,cy:a,w:16,h:12}).creator(),l.end=t,this.tBodyNds=l,this.rData.nh=a-s,this.nodeElems.tBody.attr("height",this.rData.nh)},t.prototype._connBar=function(){var t,e=this,o=this.rData,n=o.cp,r=o.cw,i=o.th2,s=o.ch,h=o.th0,a=o.th1,c=o.nh,p=n.x,u=n.y,l=this.paper,f=this.ndMer,y=this.config,d={};this.connElems={},u+=h+a+c,this.connElems.title=l.rect(p,u,r,i).attr("fill","#ffffff").click(function(){var t=this.data("toggle"),o=e.connElems.icon;"H"!=t?(this.data("toggle","H"),o&&o.attr("src",y.aDownSrc),e.cToggle("H")):(this.data("toggle","S"),o&&o.attr("src",y.aUpSrc),e.cToggle("S"))}),this.connElems.icon=l.image(y.aUpSrc,p+.7*r,u+1,20,20),s=u,u+=i,this.connElems.tBody=l.rect(p,u,r,60).attr("fill","#ffffff"),p+=20,u+=20,this.connElems.lnCon=l.rect(p-20,u-20,r,30),t=f.make("ln",{P1:{x:p-5,y:u},P2:{x:p+10,y:u}}).creator(),d.ln=t,u+=20,this.connElems.lnPolyCon=l.rect(p-20,u-10,r,30),t=f.make("lnPoly",{P1:{x:p-5,y:u},P2:{x:p+10,y:u+4},h:4}).creator(),d.lnPoly=t,this.cBodyNds=d,s=u-s,this.connElems.lnCon.attr("height",s/2),this.connElems.lnPolyCon.attr("height",s/2),this.connElems.tBody.attr("height",s)},t.prototype.connSizeNode=function(t){var e=this.connElems,o=e.title,n=e.icon,r=e.tBody,i=this.rData,s=i.cp,h=(i.cw,i.th2),a=(i.ch,i.th0),c=i.th1,p=i.nh,u=s.x,l=s.y,f=this.cBodyNds,y=f.ln,d=f.lnPoly;l+=t?a+c+p:a+c,o.attr("y",l),n.attr("y",l+1),l+=h,u+=20,r.attr("y",l),l+=20,y.updAttr({P1:{x:u-5,y:l},P2:{x:u+10,y:l}}),l+=20,d.updAttr({P1:{x:u-5,y:l},P2:{x:u+10,y:l+4},h:4})},t.prototype.tToggle=function(t,e){var o=this.tBodyNds,n=this.nodeElems,r=n.tBody;"H"!=t?(i.a.each(o,function(t,e){e.show()}),e&&(n.title.show(),n.icon.show()),r&&r.show(),this.connSizeNode(!0)):(i.a.each(o,function(t,e){e.hide()}),e&&(n.title.hide(),n.icon.hide()),r&&r.hide(),this.connSizeNode())},t.prototype.cToggle=function(t,e){var o=this.cBodyNds,n=this.connElems,r=n.tBody;"H"!=t?(i.a.each(o,function(t,e){e.show()}),e&&(n.title.show(),n.icon.show()),r&&r.show()):(i.a.each(o,function(t,e){e.hide()}),e&&(n.title.hide(),n.icon.hide()),r&&r.hide())},t.prototype.toggle=function(t){this.tToggle(t,!0),this.cToggle(t,!0)},t}();e.a=s},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="begin"},e.prototype._whenCreatorEvt=function(){var t=this.opt,e=t.bkg||"#851E07";if(this.c=this.paper.ellipse(t.cx,t.cy,t.w/2,t.h/2),this.c.attr("fill",e),t.text){var o=this._getTextPnt(),n=o.x,r=o.y;this.label=this.paper.text(n,r,t.text)}},e.prototype.updAttr=function(t){var e=this._updAttr(t).opt;if(this.c.attr({cx:e.cx,cy:e.cy,rx:e.w/2,ry:e.h/2}),this.label){var o=this._getTextPnt(),n=o.x,r=o.y;this.label.attr({x:n,y:r})}return this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="task"},e.prototype._whenCreatorEvt=function(){var t=this.opt2Attr(),e=this.opt,o=e.bkg||"#88EEEA";if(this.c=this.paper.rect(t.x,t.y,t.w,t.h),this.c.attr("fill",o),e.text){var n=this._getTextPnt(),r=n.x,i=n.y;this.label=this.paper.text(r,i,e.text)}},e.prototype.opt2Attr=function(t){var e=t||this.opt;return{x:e.cx-e.w/2,y:e.cy-e.h/2,w:e.w,h:e.h}},e.prototype.updAttr=function(t){this._updAttr(t);var e=this.opt2Attr(),o={x:e.x,y:e.y,width:e.w,height:e.h};if(this.c.attr(o),this.label){var n=this._getTextPnt(),r=n.x,i=n.y;this.label.attr({x:r,y:i})}return this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="audit",this.xRate=.2},e.prototype._whenCreatorEvt=function(){var t=this.opt2Attr(),e=this.opt,o=e.bkg||"#88EEEA";if(this.c=this.paper.path(this._ps2Path(t,!0)),this.c.attr("fill",o),e.text){var n=this._getTextPnt(),r=n.x,i=n.y;this.label=this.paper.text(r,i,e.text)}},e.prototype.opt2Attr=function(t){var e=t||this.opt,o=e.cx,n=e.cy,r=e.w,i=e.h,s=this.xRate;return[{x:o-r/2,y:n-i/2},{x:o+r/2+r*s,y:n-i/2},{x:o+r/2,y:n+i/2},{x:o-r/2-r*s,y:n+i/2}]},e.prototype.updAttr=function(t){this._updAttr(t);var e=this.opt2Attr();if(this.c.attr("path",this._ps2PathAttr(e,!0)),this.label){var o=this._getTextPnt(),n=o.x,r=o.y;this.label.attr({x:n,y:r})}return this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="sign",this.xRate=.2},e.prototype._whenCreatorEvt=function(){var t=this.opt2Attr(),e=this.opt,o=e.bkg||"#88EEEA";if(this.c=this.paper.path(this._ps2Path(t,!0)),this.c.attr("fill",o),e.text){var n=this._getTextPnt(),r=n.x,i=n.y;this.label=this.paper.text(r,i,e.text)}},e.prototype.opt2Attr=function(t){var e=t||this.opt,o=e.cx,n=e.cy,r=e.w,i=e.h,s=this.xRate;return[{x:o-r/2-r*s,y:n-i/2},{x:o+r/2+r*s,y:n-i/2},{x:o+r/2,y:n+i/2},{x:o-r/2,y:n+i/2}]},e.prototype.updAttr=function(t){this._updAttr(t);var e=this.opt2Attr();if(this.c.attr("path",this._ps2PathAttr(e,!0)),this.label){var o=this._getTextPnt(),n=o.x,r=o.y;this.label.attr({x:n,y:r})}return this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="cond"},e.prototype._whenCreatorEvt=function(){var t=this.opt2Attr(),e=this.opt,o=e.bkg||"#88EEEA";if(this.c=this.paper.path(this._ps2Path(t,!0)),this.c.attr("fill",o),e.text){var n=this._getTextPnt(),r=n.x,i=n.y;this.label=this.paper.text(r,i,e.text)}},e.prototype.opt2Attr=function(t){var e=t||this.opt,o=e.cx,n=e.cy,r=e.w,i=e.h;return[{x:o,y:n-i/2},{x:o+r/2,y:n},{x:o,y:n+i/2},{x:o-r/2,y:n}]},e.prototype.updAttr=function(t){this._updAttr(t);var e=this.opt2Attr();if(this.c.attr("path",this._ps2PathAttr(e,!0)),this.label){var o=this._getTextPnt(),n=o.x,r=o.y;this.label.attr({x:n,y:r})}return this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="sub_flow",this.xRate=.15},e.prototype._whenCreatorEvt=function(){var t=this.opt2Attr(),e=t.cAttr,o=t.lLine,n=t.rLine,r=this.opt,i=r.bkg||"#88EEEA";if(this.c=this.paper.rect(e.x,e.y,e.w,e.h),this.c.attr("fill",i),this.inlinesEle=[this.paper.path(this._ps2Path(o)),this.paper.path(this._ps2Path(n))],r.text){var s=this._getTextPnt(),h=s.x,a=s.y;this.label=this.paper.text(h,a,r.text)}},e.prototype.opt2Attr=function(t){var e=t||this.opt,o=e.cx-e.w/2,n=e.cy-e.h/2,r=e.w,i=e.h,s=this.xRate;return{cAttr:{x:o,y:n,w:r,h:i},lLine:[{x:o+r*s,y:n},{x:o+r*s,y:n+i}],rLine:[{x:o+r-r*s,y:n},{x:o+r-r*s,y:n+i}]}},e.prototype.updAttr=function(t){this._updAttr(t);var e=this.opt2Attr(),o=e.cAttr,n=e.lLine,r=e.rLine;if(this.c.attr({x:o.x,y:o.y,width:o.w,height:o.h}),this.inlinesEle[0].attr("path",this._ps2PathAttr(n)),this.inlinesEle[1].attr("path",this._ps2PathAttr(r)),this.label){var i=this._getTextPnt(),s=i.x,h=i.y;this.label.attr({x:s,y:h})}return this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="parallel",this.xRate=.2},e.prototype._whenCreatorEvt=function(){var t=this.opt2Attr(),e=this.opt.bkg||"#88EEEA";this.c=this.paper.path(this._ps2Path(t.cAttr,!0)),this.c.attr("fill",e),this.inlineEle=this.paper.path(this._ps2Path(t.inLine))},e.prototype.opt2Attr=function(t){var e=t||this.opt,o=e.cx-e.w/2,n=e.cy-e.h/2,r=e.w,i=e.h,s=r*(1-2*this.xRate);return{cAttr:[{x:o-s/2,y:n-i/2},{x:o+s/2,y:n-i/2},{x:o+r/2,y:n},{x:o+s/2,y:n+i/2},{x:o-s/2,y:n+i/2},{x:o-r/2,y:n}],inLine:[{x:o-s/2-.1*s,y:n},{x:o+s/2+.1*s,y:n}]}},e.prototype.updAttr=function(t){this._updAttr(t);var e=this.opt2Attr(),o=e.cAttr,n=e.inLine;return this.c.attr("path",this._ps2PathAttr(o,!0)),this.inlineEle.attr("path",this._ps2PathAttr(n)),this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="merge",this.xRate=.2},e.prototype._whenCreatorEvt=function(){var t=this.opt2Attr(),e=this.opt.bkg||"#88EEEA";this.c=this.paper.path(this._ps2Path(t.cAttr,!0)),this.c.attr("fill",e),this.inlinesEle=[this.paper.path(this._ps2Path(t.vLine)),this.paper.path(this._ps2Path(t.hLine))]},e.prototype.opt2Attr=function(t){var e=t||this.opt,o=e.cx-e.w/2,n=e.cy-e.h/2,r=e.w,i=e.h,s=r*(1-2*this.xRate);return{cAttr:[{x:o-s/2,y:n-i/2},{x:o+s/2,y:n-i/2},{x:o+r/2,y:n},{x:o+s/2,y:n+i/2},{x:o-s/2,y:n+i/2},{x:o-r/2,y:n}],vLine:[{x:o,y:n-i/2*.8},{x:o,y:n+i/2*.8}],hLine:[{x:o-s/2-.1*s,y:n},{x:o+s/2+.1*s,y:n}]}},e.prototype.updAttr=function(t){this._updAttr(t);var e=this.opt2Attr(),o=e.cAttr,n=e.vLine,r=e.hLine;return this.c.attr("path",this._ps2PathAttr(o,!0)),this.inlinesEle[0].attr("path",this._ps2PathAttr(n)),this.inlinesEle[1].attr("path",this._ps2PathAttr(r)),this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="end"},e.prototype._whenCreatorEvt=function(){var t=this.opt,e=t.bkg||"#2EF25F";if(this.c=this.paper.ellipse(t.cx,t.cy,t.w/2,t.h/2),this.c.attr("fill",e),t.text){var o=this._getTextPnt(),n=o.x,r=o.y;this.label=this.paper.text(n,r,t.text)}},e.prototype.updAttr=function(t){var e=this._updAttr(t).opt;if(this.c.attr({cx:e.cx,cy:e.cy,rx:e.w/2,ry:e.h/2}),this.label){var o=this._getTextPnt(),n=o.x,r=o.y;this.label.attr({x:n,y:r})}return this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="ln"},e.prototype._whenCreatorEvt=function(){var t=this.opt.bkg||"rgb(3, 84, 41)";this.c=this.paper.path(this._ps2Path(this.opt2Attr())),this.c.attr("fill",t)},e.prototype.opt2Attr=function(t){var e=t||this.opt,o=e.P1,n=e.P2,r=e.r||.2*this.getLen(),i=Math.atan2(o.y-n.y,n.x-o.x)*(180/Math.PI),s=n.x-r*Math.cos(i*(Math.PI/180)),h=n.y+r*Math.sin(i*(Math.PI/180));return[o,n,{x:s+r*Math.cos((i+120)*(Math.PI/180)),y:h-r*Math.sin((i+120)*(Math.PI/180))},{x:s+r*Math.cos((i+240)*(Math.PI/180)),y:h-r*Math.sin((i+240)*(Math.PI/180))},n]},e.prototype.updAttr=function(t){return this._updAttr(t),this.c.attr("path",this._ps2PathAttr(this.opt2Attr())),this},e.prototype.getLen=function(t){var e=t||this.opt,o=e.P1,n=e.P2;return this.getPLen(o,n)},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=o(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._onInit=function(){this.NodeType="ln_poly"},e.prototype._whenCreatorEvt=function(){this.c=this.paper.path(this._ps2Path(this.opt2Attr()))},e.prototype.opt2Attr=function(t){var e=t||this.opt,o=e.P1,n=e.P2,r=e.h||4,i=e.rX||.35,s=this.getLen(),h=e.r||s*(1-i)*.2,a={x:o.x+s*i,y:o.y+r},c=Math.atan2(a.y-n.y,n.x-a.x)*(180/Math.PI),p=n.x-h*Math.cos(c*(Math.PI/180)),u=n.y+h*Math.sin(c*(Math.PI/180)),l=p+h*Math.cos((c+120)*(Math.PI/180)),f=u-h*Math.sin((c+120)*(Math.PI/180)),y=p+h*Math.cos((c+240)*(Math.PI/180)),d=u-h*Math.sin((c+240)*(Math.PI/180));return[o,{x:o.x+s*i,y:o.y},a,a,n,{x:l,y:f},{x:y,y:d},n]},e.prototype.getLen=function(t){var e=t||this.opt,o=e.P1,n=e.P2;return this.getPLen(o,n)},e.prototype.updAttr=function(t){return this._updAttr(t),this.c.attr("path",this._ps2PathAttr(this.opt2Attr())),this},e}(n.a);e.a=i},function(t,e,o){"use strict";var n=function(){function t(t){"object"!=typeof t||t instanceof Array?this.jsonObj={}:this.jsonObj=t}return t.prototype.get=function(t,e){return void 0!==this.jsonObj[t]?this.jsonObj[t]:e},t.prototype.set=function(t,e){return this.jsonObj[t]=e,this},t.value=function(t,e,o){return"object"==typeof t?void 0===t[e]?o:t[e]:o},t}();e.a=n},function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n={begin:{type:1,text:"开始"},task:{type:2,text:"任务"},cond:{type:3,text:"判断"},audit:{type:4,text:"审核"},sign:{type:5,text:"会签"},parallel:{type:6,text:"并行"},merge:{type:7,text:"合并"},subFlow:{type:8,text:"子流程"},end:{type:9,text:"结束"}}}]);