{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/browser/url.ts","webpack:///./src/browser/urlParser.ts","webpack:///./src/data/operation.ts","webpack:///./src/data/uType.ts"],"names":[],"mappings":"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","file":"url.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/browser/url.ts\");\n","/**\r\n * 2018年7月27日 星期五\r\n * url 地址处理\r\n */\r\nimport urlParser from './urlParser'\r\nimport parseUrlData = Sr.parseUrlData;\r\nimport operation from \"../data/operation\";\r\nimport uType from \"../data/uType\";\r\nimport url = Ja.url;\r\nimport map = Sr.map;\r\n\r\n/**\r\n * 通过 local 解析自身\r\n * @returns {Sr.parseUrlData}\r\n */\r\nfunction dataFromLocation(): parseUrlData {\r\n    let data: parseUrlData = {hash: location.hash, search: location.search,\r\n        url: location.href, querys: {}, qHash: {}, sData: {}};\r\n    let purl: string = data.url;\r\n    // 锚点\r\n    if(data.hash){\r\n        purl = purl.replace(data.hash, '');\r\n        data.hash = data.hash.substr(1);\r\n        let hIdx: number = data.hash.indexOf('?');\r\n        if(hIdx > -1){\r\n            data.qHash = urlParser.str2data(data.hash.substr(hIdx + 1));\r\n            data.hash = data.hash.substr(0, hIdx)\r\n        }\r\n    }\r\n    // search\r\n    if(data.search){\r\n        purl = purl.replace(data.search, '');\r\n        data.search = data.search.substr(1);\r\n        data.sData = urlParser.str2data(data.search);\r\n    }\r\n    // querys\r\n    data.querys = operation.objectMerge(data.qHash, data.sData);\r\n    data.purl = purl;\r\n    return data;\r\n}\r\n\r\nexport default class Url{\r\n    querys: Sr.map;     // ?query 参数\r\n    hash: string;       // 锚点\r\n    url: string;\r\n    purl: string;\r\n    search: string;\r\n    constructor(url?: string){\r\n        if(url){\r\n            let rs = new urlParser(url);\r\n            this.hash = rs.hash;\r\n            this.querys = rs.querys;\r\n            this.url = url;\r\n            this.purl = rs.purl;\r\n            this.search = rs.search;\r\n        }else {\r\n            let rs = dataFromLocation();\r\n            this.hash = rs.hash;\r\n            this.querys = rs.querys;\r\n            this.url = rs.url;\r\n            this.purl = rs.purl;\r\n            this.search = rs.search;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 参数获取\r\n     * @param {string} key\r\n     * @param def\r\n     * @returns {*}\r\n     */\r\n    get(key: string, def?: any): any{\r\n        return this.querys[key] || def;\r\n    }\r\n\r\n    /**\r\n     * 设置query 参数值\r\n     * @param {string | Sr.map} key\r\n     * @param value\r\n     * @returns {Ja.url}\r\n     */\r\n    set(key: string|map, value?: any): url{\r\n        if('object' == typeof key){\r\n            this.querys = operation.objectMerge(this.querys, key);\r\n        }else if(key){\r\n            this.querys[key] = value;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @param {string} key\r\n     * @returns {Ja.url}\r\n     */\r\n    del(key: string): url{\r\n        delete this.querys[key];\r\n        return this\r\n    }\r\n    /**\r\n     * @returns {string}\r\n     */\r\n    get newUrl(){\r\n        let nUrl: string = `${this.purl}`;\r\n        // 字符串\r\n        if(uType.noEmptyObj(this.querys)){\r\n            nUrl += `?${urlParser.data2str(this.querys)}`\r\n        }\r\n        // 描点\r\n        if(this.hash){\r\n            nUrl += `#${this.hash}`;\r\n        }\r\n        return nUrl\r\n    }\r\n\r\n    /**\r\n     * 更新数据\r\n     * @param {Sr.map} data\r\n     * @param {boolean} returnMk\r\n     * @returns {string | void}\r\n     */\r\n    updateByData(data: Sr.map, returnMk?: boolean): string | void{\r\n        data = uType.noEmptyObj(data)? data : {};\r\n        this.set(data);\r\n        if(returnMk){\r\n            return this.newUrl;\r\n        }\r\n        location.href = this.newUrl;\r\n    }\r\n} ","/**\r\n * 2018年7月27日 星期五\r\n * url 解析器\r\n */\r\nimport map = Sr.map;\r\nimport parseUrlData = Sr.parseUrlData;\r\nimport operation from \"../data/operation\";\r\nimport uType from '../data/uType';\r\n\r\n/**\r\n * 字符转为data, tets=ddd&c2=dkdk\r\n * @param {string} str\r\n * @returns {Sr.map}\r\n */\r\nfunction str2data(str: string): map {\r\n    let data: map = {},\r\n        strQue: string[] = str.split('&');\r\n    strQue.forEach((vs: string, vi: number) => {\r\n        let idx = vs.indexOf('='),\r\n            key = vs.substr(0, idx)\r\n        ;\r\n        data[key] = vs.substr(idx + 1);\r\n    });\r\n    return data;\r\n}\r\n\r\n/**\r\n * map 数组转 str\r\n * @param {Sr.map} data\r\n * @returns {string}\r\n */\r\nfunction data2str(data: map) {\r\n    let str = '';\r\n    if(uType.noEmptyObj(data)){\r\n        let quque: string[] = [];\r\n        for(let k in data){\r\n            quque.push(`${k}=${data[k]}`)\r\n        }\r\n        str = quque.join('&');\r\n    }\r\n    return str;\r\n}\r\n\r\n/**\r\n * url 地址解析\r\n * @param {string} url\r\n * @returns {parseUrlData}\r\n */\r\nfunction parseUrl(url: string): parseUrlData {\r\n    let data: parseUrlData = {hash: '', search: '', qHash: {}, sData: {}, querys: {}};\r\n    let hashIdx: number, seaIdx: number;\r\n    let tmpUrl = url,\r\n        purl = url\r\n    ;\r\n    // 描点\r\n    if((hashIdx = tmpUrl.indexOf('#'))> -1){\r\n        purl = purl.substr(0, hashIdx);\r\n        data.hash = tmpUrl.substr(hashIdx).substr(1);\r\n        tmpUrl = tmpUrl.substr(0, hashIdx);\r\n        let idx: number;\r\n        if((idx = data.hash.indexOf('?'))){\r\n            data.hash = data.hash.substr(idx+1);\r\n            data.qHash = str2data(data.hash);\r\n        }\r\n    }\r\n\r\n    // search\r\n    if((seaIdx = tmpUrl.indexOf('?')) > -1){\r\n        //data.search = tmpUrl.substr(hashIdx).replace('?', '');\r\n        purl = purl.substr(0, seaIdx);\r\n        data.search = tmpUrl.substr(hashIdx).substr(1);\r\n        data.sData = str2data(data.search);\r\n    }\r\n\r\n    data.querys = operation.objectMerge(data.qHash, data.sData);\r\n    data.purl = purl;\r\n    return data;\r\n}\r\n\r\n/**\r\n * url 解析器\r\n */\r\nexport default class urlParser{\r\n    hash?: string;\r\n    search?: string;\r\n    purl?: string;\r\n    url?: string;\r\n    qHash: map;          // hash 后面的参数\r\n    sData: map;          // search 后面的参数\r\n    querys: map;         // 解析很的参数， qHash 与 sData 合并\r\n    constructor(url: string){\r\n        let data = parseUrl(url);\r\n        this.hash = data.hash;\r\n        this.search = data.search;\r\n        this.qHash = data.qHash;\r\n        this.sData = data.sData;\r\n        this.querys = data.querys;\r\n        this.purl = data.purl;\r\n        this.url = data.url;\r\n    }\r\n\r\n    /**\r\n     * url 地址解析\r\n     * @param {string} url\r\n     * @returns {parseUrlData}\r\n     */\r\n    static parse(url: string): parseUrlData{\r\n        return parseUrl(url);\r\n    }\r\n\r\n    /**\r\n     * @param {string} str\r\n     * @returns {Sr.map}\r\n     */\r\n    static str2data(str: string): map{\r\n        return str2data(str);\r\n    }\r\n\r\n    /**\r\n     * @param {Sr.map} data\r\n     * @returns {string}\r\n     */\r\n    static data2str(data: map): string{\r\n        return data2str(data);\r\n    }\r\n}","/**\r\n * 2018年7月26日 星期四\r\n * 类型运算\r\n */\r\n///<reference path=\"../index.d.ts\"/>\r\nimport map = Sr.map;\r\n\r\nexport default {\r\n    /**\r\n     * 简单object合并\r\n     * @param {Sr.map} objs\r\n     * @returns {Sr.map}\r\n     */\r\n    objectMerge(...objs: map[]): map{\r\n        let newMap = objs.length > 0? objs[0]: {};\r\n        objs.forEach((m: map, i: number) => {\r\n            if(i > 0){\r\n                for(let k in m){\r\n                    newMap[k] = m[k]\r\n                }\r\n            }\r\n        });\r\n        return newMap\r\n    },\r\n    /**\r\n     * 数组是否存在\r\n     * @param value\r\n     * @param {array} queue\r\n     * @returns {number}\r\n     */\r\n    inArray(value: any, queue: any[]): number{\r\n        let index:number = -1;\r\n        for(let i=0; i<queue.length; i++){\r\n            if(value == queue[i]){\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        return index;\r\n    },\r\n    /**\r\n     * 正在字符串转替换，弥补 string.replace 字符串查询\r\n     * @param {string} s\r\n     * @param {string} r\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    strReplace(s:string, r:string, str: string): string{\r\n        let reg = new RegExp(s, 'a');\r\n        str.replace(reg, r);\r\n        return str;\r\n    }\r\n}","/**\r\n * 2018年7月26日 星期四\r\n * 数据类型判断\r\n */\r\n\r\nexport default {\r\n    /**\r\n     * 空对象\r\n     * @param {*} obj \r\n     */\r\n    noEmptyObj(obj: any): boolean{\r\n        let noEmp = false;\r\n        if(this.isObject(obj)){\r\n            for(let k in obj){\r\n                noEmp = true;\r\n                break\r\n            }\r\n        }      \r\n        return noEmp\r\n    },\r\n    /**\r\n     * 否是为object类型，不包括 array\r\n     * @param value \r\n     */\r\n    isObject(value: any): boolean{\r\n        if('object' == typeof value){\r\n            return !(value instanceof Array)\r\n        }\r\n        return false\r\n    },\r\n    /**\r\n     * 是否为数组\r\n     * @param value \r\n     */\r\n    isArray(value: any): boolean{\r\n        if(this.isObject(value)){\r\n            return value instanceof Array\r\n        }\r\n        return false\r\n    }\r\n} "],"sourceRoot":""}